<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="昆明理工大学无线通信团队成员">
<meta property="og:type" content="website">
<meta property="og:title" content="王延凯的博客">
<meta property="og:url" content="https:&#x2F;&#x2F;kingback2019.github.io&#x2F;page&#x2F;2&#x2F;index.html">
<meta property="og:site_name" content="王延凯的博客">
<meta property="og:description" content="昆明理工大学无线通信团队成员">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://kingback2019.github.io/page/2/"/>





  <title>王延凯的博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">王延凯的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Categories
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" target="_blank" rel="noopener" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://kingback2019.github.io/2019/11/25/java%E5%9F%BA%E6%9C%AC%E7%AE%97%E6%9C%AF%E8%AE%AD%E7%BB%83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kingback">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/isme.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="王延凯的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/25/java%E5%9F%BA%E6%9C%AC%E7%AE%97%E6%9C%AF%E8%AE%AD%E7%BB%83/" itemprop="url">Java基本算术训练</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-25T17:04:10+08:00">
                2019-11-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="编程实现1-2-3-、、、-100"><a href="#编程实现1-2-3-、、、-100" class="headerlink" title="编程实现1+2+3+、、、+100"></a>编程实现1+2+3+、、、+100</h2><p>废话不多说直接上代码，这里直接展示代码实现部分和代码运行结果。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建输出函数快捷键sout</span></span><br><span class="line">int sum1 = <span class="number">0</span>, sum2 = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//编程实现1+2+3+...+100</span></span><br><span class="line"><span class="keyword">for</span> (int i =<span class="number">1</span>; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">    sum1 += i;</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(<span class="string">"\nthe Sum of nature numbers within 100 is :"</span> + sum1);</span><br></pre></td></tr></table></figure></p>
<h2 id="编程实现1-3-5-7-、、、-101"><a href="#编程实现1-3-5-7-、、、-101" class="headerlink" title="编程实现1+3+5+7+、、、+101"></a>编程实现1+3+5+7+、、、+101</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//编程实现1+3+5+7+9+...+101</span></span><br><span class="line">int c = <span class="number">1</span>;<span class="comment">//c用来存储奇数</span></span><br><span class="line"><span class="keyword">for</span> (int i = <span class="number">1</span>; i &lt;= <span class="number">50</span>; i++) &#123;</span><br><span class="line">    sum2 += c;</span><br><span class="line">    c += <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(<span class="string">"\nthe Sum of odd numbers within 101 is :"</span> + sum2);</span><br></pre></td></tr></table></figure>
<h2 id="编程实现输出十个随机整数，值在0-100之间"><a href="#编程实现输出十个随机整数，值在0-100之间" class="headerlink" title="编程实现输出十个随机整数，值在0-100之间"></a>编程实现输出十个随机整数，值在0-100之间</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//编程实现输出10个随机整数，值在0-100之间</span></span><br><span class="line">Random r = <span class="keyword">new</span> Random(<span class="number">30</span>);<span class="comment">//创建一个新的伪随机数生成器</span></span><br><span class="line"><span class="comment">//定义一个数组来承接生成的随机数</span></span><br><span class="line">int[] ran = <span class="keyword">new</span> int[<span class="number">10</span>];</span><br><span class="line">System.out.println(<span class="string">"\n生成的随机数为："</span>);</span><br><span class="line"><span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    int t1 = r.nextInt(<span class="number">100</span>);</span><br><span class="line">    ran[i] = t1;</span><br><span class="line">    System.out.printf(t1 + <span class="string">"   "</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="对以上生成的十个随机整数进行排序"><a href="#对以上生成的十个随机整数进行排序" class="headerlink" title="对以上生成的十个随机整数进行排序"></a>对以上生成的十个随机整数进行排序</h2><p>在此处进行排序我使用了两种方式分别实现了对于十个数字的排序功能，分别为==选择法==和==冒泡排序法==。两种排序方式都可以，故我使用这两种方式一个实现正序排列一个实现了倒序排列。在具体应用中两种都可以。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建方法使用快捷键 Alt+Insert</span></span><br><span class="line"><span class="comment">//方法一，选择法，第一次循环都和第一个比较，把最小的放在最前边</span></span><br><span class="line">public <span class="keyword">static</span> int[] sort(int[] a) &#123;</span><br><span class="line">    int[] b=<span class="keyword">new</span> int[<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (int j = i+<span class="number">1</span>; j &lt;<span class="number">10</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(a[i]&gt;a[j])&#123;</span><br><span class="line">                int temp=a[i];</span><br><span class="line">                a[i]=a[j];</span><br><span class="line">                a[j]=temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//方法二：冒泡排序法，相邻两个进行比较，将最大的放到最后边</span></span><br><span class="line">public <span class="keyword">static</span> int[] sort1(int[] a) &#123;</span><br><span class="line">    <span class="keyword">for</span>(int i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(int j=<span class="number">0</span>;j&lt;<span class="number">10</span>-i<span class="number">-1</span>;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(a[j]&gt;a[j+<span class="number">1</span>])&#123;</span><br><span class="line">                int temp=a[j];</span><br><span class="line">                a[j]=a[j+<span class="number">1</span>];</span><br><span class="line">                a[j+<span class="number">1</span>]=temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="设有两字符串A、B构成的集合，字符串内容值为以下所示："><a href="#设有两字符串A、B构成的集合，字符串内容值为以下所示：" class="headerlink" title="设有两字符串A、B构成的集合，字符串内容值为以下所示："></a>设有两字符串A、B构成的集合，字符串内容值为以下所示：</h2><p><kbd>A:{a,b,c,d,e,f,g,in,off,about,get}<br>B:{f,g,a,come,get,go}
</kbd></p>
<p><strong>试求出</strong></p>
<ol>
<li>求出集合A、B的交集；</li>
<li>只在集合A中出现的字符串集合；</li>
<li>集合A、B的并集。</li>
</ol>
<p>以下则分别实现三个功能，首先实现要求1，求出==AB集合的交集==<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">      <span class="comment">//返回集合A和集合B交集</span></span><br><span class="line">public <span class="keyword">static</span> <span class="built_in">String</span>[] samestr(<span class="built_in">String</span>[] a,<span class="built_in">String</span>[] b) &#123;</span><br><span class="line">    <span class="built_in">String</span>[] aa=<span class="keyword">new</span> <span class="built_in">String</span>[<span class="number">20</span>];</span><br><span class="line">    int k=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (int i=<span class="number">0</span>;i&lt;a.length;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(int j=<span class="number">0</span>;j&lt;b.length;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(a[i]==b[j])&#123;</span><br><span class="line">                aa[k]=a[i];</span><br><span class="line">                k++;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> aa;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>接下来实现要求2，求出==只在A中出现的字符串集合==：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//返回字符串a独有的集合</span></span><br><span class="line">public <span class="keyword">static</span> ArrayList diffstr(<span class="built_in">String</span>[] a, <span class="built_in">String</span>[] b) &#123;</span><br><span class="line">    ArrayList aa=<span class="keyword">new</span> ArrayList();<span class="comment">//用来存储字符串a</span></span><br><span class="line">    ArrayList bb=<span class="keyword">new</span> ArrayList();<span class="comment">//用来存储字符串b</span></span><br><span class="line">    <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; a.length; i++) &#123;</span><br><span class="line">        aa.add(a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; b.length; i++) &#123;</span><br><span class="line">        bb.add(b[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//移除aa中包含的bb</span></span><br><span class="line">    aa.removeAll(bb);</span><br><span class="line">    <span class="keyword">return</span> aa;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>最后再来实现要求3，求==A、B集合的并集==<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//返回AB集合并集</span></span><br><span class="line">public <span class="keyword">static</span> ArrayList gatherstr(<span class="built_in">String</span>[] a,<span class="built_in">String</span>[] b) &#123;</span><br><span class="line">    ArrayList aa=<span class="keyword">new</span> ArrayList();</span><br><span class="line">    <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; a.length; i++) &#123;</span><br><span class="line">        aa.add(a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; b.length; i++) &#123;</span><br><span class="line">        aa.add(b[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> aa;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="程序运行截图"><a href="#程序运行截图" class="headerlink" title="程序运行截图"></a>程序运行截图</h2><p>以下我展示出程序运行后的结果：</p>
<p><img src="https://img-blog.csdnimg.cn/20190827233132400.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODQ2ODA3Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h2 id="全部的java代码"><a href="#全部的java代码" class="headerlink" title="全部的java代码"></a>全部的java代码</h2><p>最后我还提供出此次练习的全部java源码，供大家一起学习讨论。代码中有什么不足之处，欢迎大家斧正。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line">package main.java.demo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created with IntelliJ IDEA.</span></span><br><span class="line"><span class="comment"> * User: kingback</span></span><br><span class="line"><span class="comment"> * Author:king@王延凯</span></span><br><span class="line"><span class="comment"> * Date: 2019/4/6</span></span><br><span class="line"><span class="comment"> * Time: 20:39</span></span><br><span class="line"><span class="comment"> * Description: No Description</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">    <span class="comment">//创建main函数快捷键psvm</span></span><br><span class="line">    public <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="built_in">String</span>[] args) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建输出函数快捷键sout</span></span><br><span class="line">        int sum1 = <span class="number">0</span>, sum2 = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//编程实现1+2+3+...+100</span></span><br><span class="line">        <span class="keyword">for</span> (int i =<span class="number">1</span>; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">            sum1 += i;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"\nthe Sum of nature numbers within 100 is :"</span> + sum1);</span><br><span class="line">        <span class="comment">//编程实现1+3+5+7+9+...+101</span></span><br><span class="line">        int c = <span class="number">1</span>;<span class="comment">//c用来存储奇数</span></span><br><span class="line">        <span class="keyword">for</span> (int i = <span class="number">1</span>; i &lt;= <span class="number">50</span>; i++) &#123;</span><br><span class="line">            sum2 += c;</span><br><span class="line">            c += <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"\nthe Sum of odd numbers within 101 is :"</span> + sum2);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//编程实现输出10个随机整数，值在0-100之间</span></span><br><span class="line">        Random r = <span class="keyword">new</span> Random(<span class="number">30</span>);<span class="comment">//创建一个新的伪随机数生成器</span></span><br><span class="line">        <span class="comment">//定义一个数组来承接生成的随机数</span></span><br><span class="line">        int[] ran = <span class="keyword">new</span> int[<span class="number">10</span>];</span><br><span class="line">        System.out.println(<span class="string">"\n生成的随机数为："</span>);</span><br><span class="line">        <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            int t1 = r.nextInt(<span class="number">100</span>);</span><br><span class="line">            ran[i] = t1;</span><br><span class="line">            System.out.printf(t1 + <span class="string">"   "</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        int[] aa = <span class="keyword">new</span> int[<span class="number">10</span>];</span><br><span class="line">        aa = sort(ran);</span><br><span class="line">        System.out.println(<span class="string">"\n\n排序后的结果为："</span>);</span><br><span class="line">        <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            System.out.print(aa[i] + <span class="string">"   "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//多行注释ctrl+shift+/</span></span><br><span class="line">       <span class="comment">/* for(int i=0;i&lt;10;i++)&#123;</span></span><br><span class="line"><span class="comment">            System.out.println(ran[i]);</span></span><br><span class="line"><span class="comment">        &#125;*/</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//设有两字符串构成的集合，字符串内容如下所示</span></span><br><span class="line">        <span class="built_in">String</span>[] str = &#123;<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>, <span class="string">"d"</span>, <span class="string">"e"</span>, <span class="string">"f"</span>, <span class="string">"g"</span>, <span class="string">"in"</span>, <span class="string">"off"</span>, <span class="string">"about"</span>, <span class="string">"get"</span>&#125;;</span><br><span class="line">        <span class="built_in">String</span>[] str1 = &#123;<span class="string">"f"</span>, <span class="string">"g"</span>, <span class="string">"a"</span>, <span class="string">"come"</span>, <span class="string">"get"</span>, <span class="string">"go"</span>&#125;;</span><br><span class="line">        <span class="built_in">String</span>[] togather = <span class="keyword">new</span> <span class="built_in">String</span>[<span class="number">20</span>];</span><br><span class="line">        <span class="built_in">String</span>[] diff = <span class="keyword">new</span> <span class="built_in">String</span>[<span class="number">20</span>];</span><br><span class="line"></span><br><span class="line">        <span class="comment">//要求找出两个集合的交集,并集</span></span><br><span class="line">        togather = samestr(str, str1);</span><br><span class="line">        <span class="comment">//输出AB的交集</span></span><br><span class="line">        System.out.print(<span class="string">"\n\nAB的交集: "</span>);</span><br><span class="line">        <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; togather.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (togather[i] != <span class="literal">null</span>) &#123;</span><br><span class="line">                System.out.print(togather[i] + <span class="string">"   "</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//输出只在A中出现的字符串</span></span><br><span class="line">        System.out.println(<span class="string">"\n\n只在A中出现的集合： "</span>);</span><br><span class="line">        ArrayList aaa = <span class="keyword">new</span> ArrayList();</span><br><span class="line">        aaa = diffstr(str, str1);</span><br><span class="line">        <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; aaa.size(); i++) &#123;</span><br><span class="line">            System.out.printf(<span class="string">" "</span> + aaa.get(i) + <span class="string">" "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//输出AB集合并集</span></span><br><span class="line">        ArrayList bbb=gatherstr(str,str1);</span><br><span class="line">        System.out.println(<span class="string">"\n\nAB的并集为： "</span>);</span><br><span class="line">        <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; bbb.size(); i++) &#123;</span><br><span class="line">            System.out.print(<span class="string">" "</span>+bbb.get(i)+<span class="string">" "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//创建方法使用快捷键 Alt+Insert</span></span><br><span class="line">    <span class="comment">//方法一，选择法，第一次循环都和第一个比较，把最小的放在最前边</span></span><br><span class="line">    public <span class="keyword">static</span> int[] sort(int[] a) &#123;</span><br><span class="line">        int[] b=<span class="keyword">new</span> int[<span class="number">10</span>];</span><br><span class="line">        <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (int j = i+<span class="number">1</span>; j &lt;<span class="number">10</span>; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(a[i]&gt;a[j])&#123;</span><br><span class="line">                    int temp=a[i];</span><br><span class="line">                    a[i]=a[j];</span><br><span class="line">                    a[j]=temp;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//方法二：冒泡排序法，相邻两个进行比较，将最大的放到最后边</span></span><br><span class="line">    public <span class="keyword">static</span> int[] sort1(int[] a) &#123;</span><br><span class="line">        <span class="keyword">for</span>(int i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(int j=<span class="number">0</span>;j&lt;<span class="number">10</span>-i<span class="number">-1</span>;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(a[j]&gt;a[j+<span class="number">1</span>])&#123;</span><br><span class="line">                    int temp=a[j];</span><br><span class="line">                    a[j]=a[j+<span class="number">1</span>];</span><br><span class="line">                    a[j+<span class="number">1</span>]=temp;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//返回集合A和集合B交集</span></span><br><span class="line">    public <span class="keyword">static</span> <span class="built_in">String</span>[] samestr(<span class="built_in">String</span>[] a,<span class="built_in">String</span>[] b) &#123;</span><br><span class="line">        <span class="built_in">String</span>[] aa=<span class="keyword">new</span> <span class="built_in">String</span>[<span class="number">20</span>];</span><br><span class="line">        int k=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (int i=<span class="number">0</span>;i&lt;a.length;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(int j=<span class="number">0</span>;j&lt;b.length;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(a[i]==b[j])&#123;</span><br><span class="line">                    aa[k]=a[i];</span><br><span class="line">                    k++;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> aa;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//返回字符串a独有的集合</span></span><br><span class="line">    public <span class="keyword">static</span> ArrayList diffstr(<span class="built_in">String</span>[] a, <span class="built_in">String</span>[] b) &#123;</span><br><span class="line">        ArrayList aa=<span class="keyword">new</span> ArrayList();<span class="comment">//用来存储字符串a</span></span><br><span class="line">        ArrayList bb=<span class="keyword">new</span> ArrayList();<span class="comment">//用来存储字符串b</span></span><br><span class="line">        <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; a.length; i++) &#123;</span><br><span class="line">            aa.add(a[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; b.length; i++) &#123;</span><br><span class="line">            bb.add(b[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//移除aa中包含的bb</span></span><br><span class="line">        aa.removeAll(bb);</span><br><span class="line">        <span class="keyword">return</span> aa;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//返回AB集合并集</span></span><br><span class="line">    public <span class="keyword">static</span> ArrayList gatherstr(<span class="built_in">String</span>[] a,<span class="built_in">String</span>[] b) &#123;</span><br><span class="line">        ArrayList aa=<span class="keyword">new</span> ArrayList();</span><br><span class="line">        <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; a.length; i++) &#123;</span><br><span class="line">            aa.add(a[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; b.length; i++) &#123;</span><br><span class="line">            aa.add(b[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> aa;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
	<div>
		
	</div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://kingback2019.github.io/2019/11/25/Java%E5%9F%BA%E7%A1%80%E7%BB%83%E4%B9%A0%E4%B9%8B%E6%8E%A7%E5%88%B6%E5%8F%B0%E7%BB%83%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kingback">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/isme.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="王延凯的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/25/Java%E5%9F%BA%E7%A1%80%E7%BB%83%E4%B9%A0%E4%B9%8B%E6%8E%A7%E5%88%B6%E5%8F%B0%E7%BB%83%E4%B9%A0/" itemprop="url">Java基础练习之控制台练习</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-25T17:03:54+08:00">
                2019-11-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-要求使用java编程实现一个命令窗口程序，使得实现以下功能"><a href="#1-要求使用java编程实现一个命令窗口程序，使得实现以下功能" class="headerlink" title="1.要求使用java编程实现一个命令窗口程序，使得实现以下功能"></a>1.要求使用java编程实现一个命令窗口程序，使得实现以下功能</h1><ol>
<li>输入“A”则在屏上回显“Your input is A”</li>
<li>输入”我”则在屏上回显“your input is 我”</li>
<li>输入ByeBye退出程序。<h2 id="1-1-代码实现"><a href="#1-1-代码实现" class="headerlink" title="1.1 代码实现"></a>1.1 代码实现</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***************************</span></span><br><span class="line"><span class="comment"> *  编程实现一个命令窗口程序，使得输入A,</span></span><br><span class="line"><span class="comment"> *  在屏幕上回显“your input is A”，</span></span><br><span class="line"><span class="comment"> *  输入我,在屏幕上回显“your input is 我”</span></span><br><span class="line"><span class="comment"> *  输入ByeBye结束程序</span></span><br><span class="line"><span class="comment"> *  **************************/</span></span><br><span class="line">public <span class="keyword">static</span> <span class="keyword">void</span> A() &#123;</span><br><span class="line">    <span class="built_in">String</span> str=<span class="string">""</span>;<span class="comment">//定义一个空字符串来存储用户输入的字符</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>==<span class="number">1</span>)&#123;<span class="comment">//使用1==1死循环来循环获取控制台输入的数据。</span></span><br><span class="line">        System.out.println(<span class="string">"请输入任意字符："</span>);</span><br><span class="line">        Scanner scanner=<span class="keyword">new</span> Scanner(System.in);<span class="comment">//创建一个新的Scanner ,控制台等待用户敲击Enter键，把所输入的内容传给Scanner</span></span><br><span class="line">        str=scanner.nextLine();<span class="comment">//获取Scanner输入的内容</span></span><br><span class="line">        <span class="comment">//当用户输入的字符串和"ByeBye"是否相等，如果相等则程序正常退出</span></span><br><span class="line">        <span class="keyword">if</span> (str.equals(<span class="string">"ByeBye"</span>))&#123;</span><br><span class="line">            System.out.println(<span class="string">"程序正常退出！"</span>);</span><br><span class="line">            System.exit(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"your input is "</span>+str);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="1-2-运行结果"><a href="#1-2-运行结果" class="headerlink" title="1.2 运行结果"></a>1.2 运行结果</h2><p><img src="https://img-blog.csdnimg.cn/20190829173205506.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODQ2ODA3Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h1 id="2-编程实现一个命令窗口程序，要求实现以下功能："><a href="#2-编程实现一个命令窗口程序，要求实现以下功能：" class="headerlink" title="2.编程实现一个命令窗口程序，要求实现以下功能："></a>2.编程实现一个命令窗口程序，要求实现以下功能：</h1><ol>
<li>输入“A”则在屏上回显A字符的ASCII码。</li>
<li>输入“4”则在屏上回显4字符的ASCII码。</li>
<li>输入“我”则在屏上回显“我”字的汉字内码。</li>
<li>输入ByeBye结束程序<h2 id="2-1-代码实现"><a href="#2-1-代码实现" class="headerlink" title="2.1 代码实现"></a>2.1 代码实现</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***************************</span></span><br><span class="line"><span class="comment"> * 编程实现一个命令窗口程序，使得输入A,则在屏上回显 A 字符的 ASCII 码。</span></span><br><span class="line"><span class="comment"> * 输入“4”则在屏上回显 4 字符的 ASCII 码。</span></span><br><span class="line"><span class="comment"> * 输入“我”则在屏上回显“我”字的汉字内码</span></span><br><span class="line"><span class="comment"> * 输入 ByeBye 则退出程序.</span></span><br><span class="line"><span class="comment"> * **************************/</span></span><br><span class="line">public <span class="keyword">static</span> <span class="keyword">void</span> B() &#123;</span><br><span class="line">    <span class="built_in">String</span> str=<span class="string">""</span>;<span class="comment">//定义一个空字符串来存储用户输入的字符</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>)&#123;<span class="comment">//使用true死循环来循环获取控制台输入的数据。</span></span><br><span class="line">        System.out.println(<span class="string">"请输入任意字符："</span>);</span><br><span class="line">        Scanner scanner=<span class="keyword">new</span> Scanner(System.in);<span class="comment">//创建一个新的Scanner ,控制台等待用户敲击Enter键，把所输入的内容传给Scanner</span></span><br><span class="line">        str=scanner.nextLine();<span class="comment">//获取Scanner输入的内容</span></span><br><span class="line">        char[] a=str.toCharArray();<span class="comment">//将字符串对象中的字符转换为一个字符数组</span></span><br><span class="line">        <span class="comment">//当用户输入的字符串和"ByeBye"是否相等，如果相等则程序正常退出</span></span><br><span class="line">        <span class="keyword">if</span> (str.equals(<span class="string">"ByeBye"</span>))&#123;</span><br><span class="line">            System.out.println(<span class="string">"程序正常退出！"</span>);</span><br><span class="line">            System.exit(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; a.length; i++) &#123;</span><br><span class="line">                System.out.println(<span class="string">"the ASCII of "</span>+a[i]+<span class="string">" is:"</span>+Integer.valueOf(a[i]));<span class="comment">//将字符转换成对应的ASCII码</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-2-运行结果"><a href="#2-2-运行结果" class="headerlink" title="2.2 运行结果"></a>2.2 运行结果</h2><img src="https://img-blog.csdnimg.cn/20190829173244647.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODQ2ODA3Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><h1 id="3-编程实现一个命令窗口程序，使得："><a href="#3-编程实现一个命令窗口程序，使得：" class="headerlink" title="3.编程实现一个命令窗口程序，使得："></a>3.编程实现一个命令窗口程序，使得：</h1></li>
<li>输入“你”,则在屏上回显“you”</li>
<li>输入“书”,则在屏上回显“book”</li>
<li>输入“中”,则在屏上回显“middle”</li>
<li>输入“中国”,则在屏上回显“China”</li>
<li>要求至少100个单词。如果没有记录的词则如下所示：</li>
<li>输入“东东”,则在屏上回显“查不到该词”</li>
<li>输入ByeBye结束程序。<h2 id="3-1-代码实现"><a href="#3-1-代码实现" class="headerlink" title="3.1 代码实现"></a>3.1 代码实现</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*************************</span></span><br><span class="line"><span class="comment"> * 编程实现一个命令窗程序，使得：输入“你”则在屏上回显“you”。</span></span><br><span class="line"><span class="comment"> * 输入“书”则在屏上回显“book”。</span></span><br><span class="line"><span class="comment"> * 输入“中”则在屏上回显“middle”。</span></span><br><span class="line"><span class="comment"> * 输入“中国”则在屏上回显“China”。</span></span><br><span class="line"><span class="comment"> * 要能输入至少 100 个词。如输入没有记录的词则如下：</span></span><br><span class="line"><span class="comment"> * 输入“东东”则在屏上回显“查不到该词”。</span></span><br><span class="line"><span class="comment"> * 输入 ByeBye 则退出程序.</span></span><br><span class="line"><span class="comment"> * *************************/</span></span><br><span class="line">public <span class="keyword">static</span> <span class="keyword">void</span> C() &#123;</span><br><span class="line">    <span class="built_in">String</span> strname=<span class="string">"C:\\Users\\kingback\\Desktop\\龙华老师资料\\下放资料\\dic.txt"</span>;</span><br><span class="line">    <span class="comment">//定义txt文本位置</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">        <span class="comment">//创建try catch快捷键，选中代码块，Ctrl+Alt+T</span></span><br><span class="line">        BufferedReader br= <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">//为FileReader创建一个try catch,捕获错误。</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            FileReader reader=<span class="keyword">new</span> FileReader(strname);<span class="comment">//创建一个FileReader，用来读取txt文件</span></span><br><span class="line">            br = <span class="keyword">new</span> BufferedReader(reader);<span class="comment">//从字符输入流中读取文本</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        Scanner scanner=<span class="keyword">new</span> Scanner(System.in);<span class="comment">//定义一个Scanner实例</span></span><br><span class="line">        System.out.println(<span class="string">"请输入要查询的单词："</span>);</span><br><span class="line">        <span class="built_in">String</span> str=scanner.nextLine();<span class="comment">//获取用户输入的数据</span></span><br><span class="line">        <span class="built_in">String</span> line;<span class="comment">//用来接收文本文件中每一行的数据</span></span><br><span class="line">        boolean match=<span class="literal">false</span>;<span class="comment">//表示是否查询到对应的词汇</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//如果输入ByeBye结束程序</span></span><br><span class="line">        <span class="keyword">if</span>(str.equals(<span class="string">"ByeBye"</span>))&#123;</span><br><span class="line">            System.out.println(<span class="string">"程序正常退出！"</span>);</span><br><span class="line">            System.exit(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//为br.readline()捕获异常</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">while</span> ((line=br.readLine())!=<span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="built_in">String</span>[] aa=line.split(<span class="string">"\t"</span>);<span class="comment">//以\t拆分字符串</span></span><br><span class="line">                <span class="keyword">if</span>(aa[<span class="number">0</span>].equals(str))&#123;<span class="comment">//判断输入的字符串是否存在</span></span><br><span class="line">                    System.out.println(<span class="string">"the result is :"</span>+aa[<span class="number">1</span>]);<span class="comment">//输出查询到的英语单词</span></span><br><span class="line">                    match=<span class="literal">true</span>;<span class="comment">//修改查询状态</span></span><br><span class="line">                    <span class="keyword">break</span>;<span class="comment">//跳出此次循环</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//如果没有查询到数据执行此步骤</span></span><br><span class="line">            <span class="keyword">if</span>(!match)&#123;</span><br><span class="line">                System.out.println(<span class="string">"查不到该词！！！"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-2-运行结果"><a href="#3-2-运行结果" class="headerlink" title="3.2 运行结果"></a>3.2 运行结果</h2><img src="https://img-blog.csdnimg.cn/20190829173311849.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODQ2ODA3Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><h1 id="4-整体代码"><a href="#4-整体代码" class="headerlink" title="4.整体代码"></a>4.整体代码</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line">	package main.java.demo;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;<span class="comment">//把Scanner类导入到程序中</span></span><br><span class="line"><span class="keyword">import</span> java.io.*;<span class="comment">//将io包全部导入</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created with IntelliJ IDEA.</span></span><br><span class="line"><span class="comment"> * User: kingback</span></span><br><span class="line"><span class="comment"> * Author:king@王延凯</span></span><br><span class="line"><span class="comment"> * Date: 2019/4/16</span></span><br><span class="line"><span class="comment"> * Time: 23:38</span></span><br><span class="line"><span class="comment"> * Description: No Description</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">practice01</span> </span>&#123;</span><br><span class="line">    public <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="built_in">String</span>[] args) &#123;</span><br><span class="line">        <span class="comment">//行注释Ctrl+/、块注释Ctrl+Shift+/</span></span><br><span class="line">        <span class="comment">//A();//调用A程序</span></span><br><span class="line">        <span class="comment">//B();//调用B程序</span></span><br><span class="line">        C();<span class="comment">//调用C程序</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/***************************</span></span><br><span class="line"><span class="comment">     *  编程实现一个命令窗口程序，使得输入A,</span></span><br><span class="line"><span class="comment">     *  在屏幕上回显“your input is A”，</span></span><br><span class="line"><span class="comment">     *  输入我,在屏幕上回显“your input is 我”</span></span><br><span class="line"><span class="comment">     *  输入ByeBye结束程序</span></span><br><span class="line"><span class="comment">     *  **************************/</span></span><br><span class="line">    public <span class="keyword">static</span> <span class="keyword">void</span> A() &#123;</span><br><span class="line">        <span class="built_in">String</span> str=<span class="string">""</span>;<span class="comment">//定义一个空字符串来存储用户输入的字符</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="number">1</span>==<span class="number">1</span>)&#123;<span class="comment">//使用1==1死循环来循环获取控制台输入的数据。</span></span><br><span class="line">            System.out.println(<span class="string">"请输入任意字符："</span>);</span><br><span class="line">            Scanner scanner=<span class="keyword">new</span> Scanner(System.in);<span class="comment">//创建一个新的Scanner ,控制台等待用户敲击Enter键，把所输入的内容传给Scanner</span></span><br><span class="line">            str=scanner.nextLine();<span class="comment">//获取Scanner输入的内容</span></span><br><span class="line">            <span class="comment">//当用户输入的字符串和"ByeBye"是否相等，如果相等则程序正常退出</span></span><br><span class="line">            <span class="keyword">if</span> (str.equals(<span class="string">"ByeBye"</span>))&#123;</span><br><span class="line">                System.out.println(<span class="string">"程序正常退出！"</span>);</span><br><span class="line">                System.exit(<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">"your input is "</span>+str);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/***************************</span></span><br><span class="line"><span class="comment">     * 编程实现一个命令窗口程序，使得输入A,则在屏上回显 A 字符的 ASCII 码。</span></span><br><span class="line"><span class="comment">     * 输入“4”则在屏上回显 4 字符的 ASCII 码。</span></span><br><span class="line"><span class="comment">     * 输入“我”则在屏上回显“我”字的汉字内码</span></span><br><span class="line"><span class="comment">     * 输入 ByeBye 则退出程序.</span></span><br><span class="line"><span class="comment">     * **************************/</span></span><br><span class="line">    public <span class="keyword">static</span> <span class="keyword">void</span> B() &#123;</span><br><span class="line">        <span class="built_in">String</span> str=<span class="string">""</span>;<span class="comment">//定义一个空字符串来存储用户输入的字符</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;<span class="comment">//使用true死循环来循环获取控制台输入的数据。</span></span><br><span class="line">            System.out.println(<span class="string">"请输入任意字符："</span>);</span><br><span class="line">            Scanner scanner=<span class="keyword">new</span> Scanner(System.in);<span class="comment">//创建一个新的Scanner ,控制台等待用户敲击Enter键，把所输入的内容传给Scanner</span></span><br><span class="line">            str=scanner.nextLine();<span class="comment">//获取Scanner输入的内容</span></span><br><span class="line">            char[] a=str.toCharArray();<span class="comment">//将字符串对象中的字符转换为一个字符数组</span></span><br><span class="line">            <span class="comment">//当用户输入的字符串和"ByeBye"是否相等，如果相等则程序正常退出</span></span><br><span class="line">            <span class="keyword">if</span> (str.equals(<span class="string">"ByeBye"</span>))&#123;</span><br><span class="line">                System.out.println(<span class="string">"程序正常退出！"</span>);</span><br><span class="line">                System.exit(<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; a.length; i++) &#123;</span><br><span class="line">                    System.out.println(<span class="string">"the ASCII of "</span>+a[i]+<span class="string">" is:"</span>+Integer.valueOf(a[i]));<span class="comment">//将字符转换成对应的ASCII码</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*************************</span></span><br><span class="line"><span class="comment">     * 编程实现一个命令窗程序，使得：输入“你”则在屏上回显“you”。</span></span><br><span class="line"><span class="comment">     * 输入“书”则在屏上回显“book”。</span></span><br><span class="line"><span class="comment">     * 输入“中”则在屏上回显“middle”。</span></span><br><span class="line"><span class="comment">     * 输入“中国”则在屏上回显“China”。</span></span><br><span class="line"><span class="comment">     * 要能输入至少 100 个词。如输入没有记录的词则如下：</span></span><br><span class="line"><span class="comment">     * 输入“东东”则在屏上回显“查不到该词”。</span></span><br><span class="line"><span class="comment">     * 输入 ByeBye 则退出程序.</span></span><br><span class="line"><span class="comment">     * *************************/</span></span><br><span class="line">    public <span class="keyword">static</span> <span class="keyword">void</span> C() &#123;</span><br><span class="line">        <span class="built_in">String</span> strname=<span class="string">"C:\\Users\\kingback\\Desktop\\龙华老师资料\\下放资料\\dic.txt"</span>;</span><br><span class="line">        <span class="comment">//定义txt文本位置</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="comment">//创建try catch快捷键，选中代码块，Ctrl+Alt+T</span></span><br><span class="line">            BufferedReader br= <span class="literal">null</span>;</span><br><span class="line">            <span class="comment">//为FileReader创建一个try catch,捕获错误。</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                FileReader reader=<span class="keyword">new</span> FileReader(strname);<span class="comment">//创建一个FileReader，用来读取txt文件</span></span><br><span class="line">                br = <span class="keyword">new</span> BufferedReader(reader);<span class="comment">//从字符输入流中读取文本</span></span><br><span class="line">            &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            Scanner scanner=<span class="keyword">new</span> Scanner(System.in);<span class="comment">//定义一个Scanner实例</span></span><br><span class="line">            System.out.println(<span class="string">"请输入要查询的单词："</span>);</span><br><span class="line">            <span class="built_in">String</span> str=scanner.nextLine();<span class="comment">//获取用户输入的数据</span></span><br><span class="line">            <span class="built_in">String</span> line;<span class="comment">//用来接收文本文件中每一行的数据</span></span><br><span class="line">            boolean match=<span class="literal">false</span>;<span class="comment">//表示是否查询到对应的词汇</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//如果输入ByeBye结束程序</span></span><br><span class="line">            <span class="keyword">if</span>(str.equals(<span class="string">"ByeBye"</span>))&#123;</span><br><span class="line">                System.out.println(<span class="string">"程序正常退出！"</span>);</span><br><span class="line">                System.exit(<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//为br.readline()捕获异常</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">while</span> ((line=br.readLine())!=<span class="literal">null</span>)&#123;</span><br><span class="line">                    <span class="built_in">String</span>[] aa=line.split(<span class="string">"\t"</span>);<span class="comment">//以\t拆分字符串</span></span><br><span class="line">                    <span class="keyword">if</span>(aa[<span class="number">0</span>].equals(str))&#123;<span class="comment">//判断输入的字符串是否存在</span></span><br><span class="line">                        System.out.println(<span class="string">"the result is :"</span>+aa[<span class="number">1</span>]);<span class="comment">//输出查询到的英语单词</span></span><br><span class="line">                        match=<span class="literal">true</span>;<span class="comment">//修改查询状态</span></span><br><span class="line">                        <span class="keyword">break</span>;<span class="comment">//跳出此次循环</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//如果没有查询到数据执行此步骤</span></span><br><span class="line">                <span class="keyword">if</span>(!match)&#123;</span><br><span class="line">                    System.out.println(<span class="string">"查不到该词！！！"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>

          
        
      
    </div>
	<div>
		
	</div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://kingback2019.github.io/2019/11/25/java%E5%9F%BA%E7%A1%80%E7%BB%83%E4%B9%A0--%E6%95%B0%E6%8D%AE%E6%B5%81%E7%BB%83%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kingback">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/isme.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="王延凯的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/25/java%E5%9F%BA%E7%A1%80%E7%BB%83%E4%B9%A0--%E6%95%B0%E6%8D%AE%E6%B5%81%E7%BB%83%E4%B9%A0/" itemprop="url">Java基础练习--数据流操作</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-25T17:03:38+08:00">
                2019-11-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="使用Java实现一个程序，输出windows的全部汉字到一个文件中（提示：通过汉字内码，做循环来实现。）"><a href="#使用Java实现一个程序，输出windows的全部汉字到一个文件中（提示：通过汉字内码，做循环来实现。）" class="headerlink" title="使用Java实现一个程序，输出windows的全部汉字到一个文件中（提示：通过汉字内码，做循环来实现。）"></a>使用Java实现一个程序，输出windows的全部汉字到一个文件中（提示：通过汉字内码，做循环来实现。）</h1><p>在这里我为了实现该功能我封装了一个方法，名字为print_word方法，当我们要实现该功能时，我们只需要在main函数中调用该方法，其调用方法如下所示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">      //调用汉字输出方法</span><br><span class="line">      print_word();</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><br>另外接下来就是来展示一下print_word方法：</p>
<h2 id="代码展示"><a href="#代码展示" class="headerlink" title="代码展示"></a>代码展示</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">***************************</span><br><span class="line">用Java实现一程序，输出windows系统中的全部汉字到一个文件中。</span><br><span class="line">提示：（通过汉字内码实现）</span><br><span class="line">***************************<span class="regexp">/</span></span><br><span class="line"><span class="regexp">public static void print_word() &#123;</span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/快捷键Alt+Insert 建立方法</span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/ctrl+alt+T 为选中的代码块添加try catch，用于捕捉异常</span></span><br><span class="line"><span class="regexp">    try &#123;</span></span><br><span class="line"><span class="regexp">        File file=new File("words.txt");/</span><span class="regexp">/创建文件对象</span></span><br><span class="line"><span class="regexp">        /</span><span class="regexp">/if语句用来判断该路径下是否存在该文件</span></span><br><span class="line"><span class="regexp">        if(!file.exists())&#123;</span></span><br><span class="line"><span class="regexp">            file.createNewFile();/</span><span class="regexp">/如果不存在该文件，则会在该路径下创建该文件</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">        FileWriter fileWriter=new FileWriter("words.txt");/</span><span class="regexp">/实例化FileWriter</span></span><br><span class="line"><span class="regexp">        /</span><span class="regexp">/经过查询得知汉字码的范围为4e00-9fa5</span></span><br><span class="line"><span class="regexp">        String start="4e00";</span></span><br><span class="line"><span class="regexp">        String end="9fa5";</span></span><br><span class="line"><span class="regexp">        int s=Integer.parseInt(start,16);/</span><span class="regexp">/将16进制的4e00转换为10进制</span></span><br><span class="line"><span class="regexp">        int e=Integer.parseInt(end,16);/</span><span class="regexp">/将16进制的9fa5转换为10进制</span></span><br><span class="line"><span class="regexp">        /</span><span class="regexp">/通过for循环输出汉字</span></span><br><span class="line"><span class="regexp">        for (int i = s; i &lt;e; i++) &#123;</span></span><br><span class="line"><span class="regexp">            String str=(char)i+" ";/</span><span class="regexp">/强制类型转换</span></span><br><span class="line"><span class="regexp">            fileWriter.write(str);/</span><span class="regexp">/将str对应字符写入words.txt</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">        System.out.println("汉字已经全部输出完毕！！！");/</span><span class="regexp">/输出完毕验证</span></span><br><span class="line"><span class="regexp">        fileWriter.flush();/</span><span class="regexp">/通过flush实现批量输出</span></span><br><span class="line"><span class="regexp">        fileWriter.close();/</span><span class="regexp">/关闭流</span></span><br><span class="line"><span class="regexp">    &#125; catch (IOException e1) &#123;/</span><span class="regexp">/当try代码块发生错误时，则会跳转到catch代码块</span></span><br><span class="line"><span class="regexp">        e1.printStackTrace();/</span><span class="regexp">/打印错误原因以及错误发生位置</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="运行结果截图"><a href="#运行结果截图" class="headerlink" title="运行结果截图"></a>运行结果截图</h2><p><img src="https://img-blog.csdnimg.cn/20190829210458606.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODQ2ODA3Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>好了，做到这里，对于Java的数据流的基本操作已经完成的差不多了，当然如果想要其它方法的话，可以在后续的编程练习中继续积累。</p>

          
        
      
    </div>
	<div>
		
	</div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://kingback2019.github.io/2019/11/25/Selenium+Webdriver%E7%88%AC%E5%8F%96Google%E7%A1%AC%E5%B8%81%E5%9B%BE%E7%89%87/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kingback">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/isme.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="王延凯的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/25/Selenium+Webdriver%E7%88%AC%E5%8F%96Google%E7%A1%AC%E5%B8%81%E5%9B%BE%E7%89%87/" itemprop="url">Selenium+Webdriver爬取Google硬币图片</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-25T16:52:57+08:00">
                2019-11-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-需求目的"><a href="#1-需求目的" class="headerlink" title="1.需求目的"></a>1.需求目的</h1><p>$\qquad$在做本科毕业设计的时候，女朋友选的课题时对于不同国家硬币的识别，这无疑将会用到深度学习以及机器学习的理论和方法来进行识别。但是前提是必须先拿一些样本数据在神经网络中进行训练，而每个币种也都需要三四百左右有效图片（就是那种含有用用信息的图片），这可当时愁坏了女朋友，我不忍心看她发愁，于是就揽下了图片资料的搜集这一部分的任务。</p>
<h1 id="2-爬取原理"><a href="#2-爬取原理" class="headerlink" title="2.爬取原理"></a>2.爬取原理</h1><p>$\qquad$由于此次我们的爬取对象为Google浏览器，所以我就默认大家已经可以成功翻墙。如果大家还是翻不了，可以私聊找我，免费分享资料。<br>$\qquad$接下来我来介绍一下Selenium，Selenium它是一个用于Web应用程序自动化测试工具。它可以直接运行在浏览器中，就像真正的用户在操作一样。可以在受程序控制的窗口，让程序来模拟人的点击、下拉、输入、选择等操作，从而得到我们想要的数据。<br>$\qquad$selenium支持的浏览器包括IE（7, 8, 9, 10, 11），Mozilla Firefox，Safari，Google Chrome，Opera等。此次实验我使用的浏览器为Chrome浏览器。<br>$\qquad$Webdriver在我理解看来，它是一个可以产生一个受程序控制的浏览器模拟器，如果我们使用selenium+webdriver组合来爬取信息的话，那么我们所有的活动都是发生在这个模拟器之中的。<br>在此处我就先不展示微Webdriver的安装教程，如果后边有时间，我会尽力量将这个教程补全。</p>
<h1 id="3-代码介绍"><a href="#3-代码介绍" class="headerlink" title="3.代码介绍"></a>3.代码介绍</h1><p>$\qquad$在程序中，我是定义了几个函数来分别实现获取图片的下载地址get_str()、重命名图片的名称rename()、以及图片的下载download()函数<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"># @Time : 2019/5/5 0:22 </span><br><span class="line"># @Author : kingback</span><br><span class="line"># @File : pics_USA.py </span><br><span class="line"># @Software: PyCharm</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.ui <span class="keyword">import</span> WebDriverWait</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="keyword">import</span> traceback</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line">##################################################################</span><br><span class="line">##    以下开始定义函数</span><br><span class="line">##    首先一点需要明确，如果函数只是定义了，</span><br><span class="line">##    而没有被调用，它是不会执行的</span><br><span class="line">##################################################################</span><br><span class="line"></span><br><span class="line">##该函数主要实现抓取网页内容的解析工作</span><br><span class="line">##获取当前页面硬币图片的下载地址</span><br><span class="line">def  get_str(driver):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            driver.find_element_by_id(<span class="string">"irc-rac"</span>).click()</span><br><span class="line">            ##模拟用户点击网页右边的下一个</span><br><span class="line">        except:</span><br><span class="line">            driver.find_element_by_xpath(<span class="string">"//*[@id='irc-rac']/a"</span>).click()</span><br><span class="line">    except:</span><br><span class="line">        driver.find_element_by_class_name(<span class="string">"Q8Bv4e"</span>).click()</span><br><span class="line">        driver.find_element_by_css_selector(<span class="string">"div#irc-lac &gt; a"</span>).click()</span><br><span class="line"></span><br><span class="line">    ##上边的try except都是模拟点击下一个的，因为有时候单纯的使用id来寻找那个下一个控件的时候网页有时候会搜索不到</span><br><span class="line">    ## 当id搜索不到的时候，就会采用xpath来定位这个空间</span><br><span class="line">    ##如果还是不行，那就再通过class_name来定位，如果还是不行那就通过css选择器来定位</span><br><span class="line">    ##一般来说通过id来定位就直接可以</span><br><span class="line"></span><br><span class="line">    # 使用xpath解析网页中硬币图片的下载地址，可以看出这只是摘取网页该路径下的内容，也就是网页下包含硬币图片的img字段</span><br><span class="line">    img = driver.find_element_by_xpath(<span class="string">"//*[@id='irc_cc']/div[2]/div[1]/div[2]/div[1]/a/img"</span>)</span><br><span class="line">    # 因为字段中含有很多属性，经过chrome（）的开发者模式发现该图片的下载地址存储在src属性里边</span><br><span class="line">    img_url = img.get_attribute(<span class="string">"src"</span>)</span><br><span class="line">    ##提取src属性数据</span><br><span class="line">    <span class="keyword">return</span> img_url</span><br><span class="line">    ##返回网页解析出来的图片下载地址</span><br><span class="line"></span><br><span class="line">##该函数主要实现</span><br><span class="line">##传入的两个参数一个为file，是当前爬取图片的种类，比如‘一欧元’</span><br><span class="line">##img_url 为图片的下载地址</span><br><span class="line">##返回初步处理的文件名 例如‘一欧元/0322.jpg.jpg’或‘一欧元/0566.jpg’或‘一欧元/58777.jpg.wddcvcrrcc.jpg’</span><br><span class="line">##总之返回数据多样,我们将会在rename函数中规范处理文件名称</span><br><span class="line">def get_fileneme(file,img_url):</span><br><span class="line"></span><br><span class="line">    lists = re.split(r<span class="string">'/'</span>, img_url)</span><br><span class="line">    #将img_url 字符串按照‘/’拆分为数组lists</span><br><span class="line">    ## lists数组的倒数第一个（在数组中表现形式为-1）数据即为我们需要的文件名称，但是此处得到的图片命名格式不规范</span><br><span class="line">    filename=os.path.join(file,lists[<span class="number">-1</span>])</span><br><span class="line">    #考虑到有些图片的网页下载地址最后几位不是‘.jpg’结尾，于是我们在其文件名称上都手动加上‘.jpg’</span><br><span class="line">    filename = filename + <span class="string">".jpg"</span></span><br><span class="line">    ## 返回初步处理得到的文件名称</span><br><span class="line">    <span class="keyword">return</span> filename</span><br><span class="line"></span><br><span class="line">##再次处理已经拆分出来的图片名字，将一些命名不规范的图片统一规范</span><br><span class="line">def rename(filename):</span><br><span class="line">    ## 由于我们通过函数get_filename()得到的文件名称不规范</span><br><span class="line">    lists = re.split(r<span class="string">'.jpg'</span>, filename)</span><br><span class="line">    ##使用re库对传入的filename按照‘.jpg’拆分</span><br><span class="line">    ##比如‘一欧元/0322.jpg.jpg’ 拆分完后lists[0]内就是我们需要的规范文件名，为‘一欧元/0322’</span><br><span class="line">    filename_reshape = lists[<span class="number">0</span>] + <span class="string">".jpg"</span></span><br><span class="line">    ##再对已经处理好的文件名进行字符串拼接，此时的文件名为 ‘一欧元/0322.jpg’</span><br><span class="line">    <span class="keyword">return</span> filename_reshape</span><br><span class="line">    ##返回规范的图片保存名字</span><br><span class="line"></span><br><span class="line">##创建文件夹操作，fileame为要创建的文件夹的名字</span><br><span class="line">def mkdir(filename):</span><br><span class="line">    #判断该文件夹是否存在</span><br><span class="line">    <span class="keyword">if</span> os.path.exists(filename) is False:</span><br><span class="line">        ##如果不存在那就创建该文件夹</span><br><span class="line">        os.makedirs(filename)</span><br><span class="line"></span><br><span class="line">##该函数主要实现图片地址的下载，需要传入两个参数</span><br><span class="line">##url为要下载图片的网络连接地址，filename为图片要保存为的名字（规范版）</span><br><span class="line">##该程序执行会返回两个结果，如果要下载的文件已经存在，那么直接返回‘file exites!’</span><br><span class="line">##如果图片下载成功，直接返回图片的名字</span><br><span class="line">def download(url, filename):</span><br><span class="line"></span><br><span class="line">    #首先要对需要下载的图片进行查询</span><br><span class="line">    #如果文件已经存在，直接返回result,不再继续往下执行</span><br><span class="line">    <span class="keyword">if</span> os.path.exists(filename):</span><br><span class="line">        result=<span class="string">"file exists!"</span></span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    ##以下执行部分执行，则说明该文件不存在</span><br><span class="line">    #以下大可不必管，就是一个图片保存操作</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        r = requests.get(url, stream=True, timeout=<span class="number">15</span>)</span><br><span class="line">        r.raise_for_status()</span><br><span class="line">        <span class="keyword">with</span> open(filename, <span class="string">'wb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">            <span class="keyword">for</span> chunk <span class="keyword">in</span> r.iter_content(chunk_size=<span class="number">1024</span>):</span><br><span class="line">                if chunk:  # filter out keep-alive new chunks</span><br><span class="line">                    f.write(chunk)</span><br><span class="line">                    f.flush()</span><br><span class="line">        <span class="keyword">return</span> filename</span><br><span class="line">    except KeyboardInterrupt:</span><br><span class="line">            <span class="keyword">if</span> os.path.exists(filename):</span><br><span class="line">                os.remove(filename)</span><br><span class="line">            raise KeyboardInterrupt</span><br><span class="line">    except Exception:</span><br><span class="line">            <span class="keyword">if</span> os.path.exists(filename):</span><br><span class="line">                os.remove(filename)</span><br></pre></td></tr></table></figure><br>$\qquad$以上的代码部分都是一些为实现整体的爬取过程而定义的几个小函数，接下来引出今天的大Boss,那就是我们的main函数：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">##该函数为程序执行的主体部分，通过调用不同的函数来实现我们的数据爬取</span><br><span class="line">def main():</span><br><span class="line">    #开始驱动浏览器打开页面</span><br><span class="line">    # 程序开始</span><br><span class="line">    #使用webdriver创建一个Chrome浏览器，受程序控制</span><br><span class="line">    driver = webdriver.Chrome()</span><br><span class="line">    driver.maximize_window()</span><br><span class="line">    ##设置浏览器界面最大化</span><br><span class="line"></span><br><span class="line">    ##定义要爬取的网页地址</span><br><span class="line">    start_urls=[<span class="string">'https://www.google.com.hk/search?q=One+cent+picture&amp;tbm=isch&amp;source=hp&amp;sa=X&amp;ved=2ahUKEwiToZvMooLiAhXmslQKHUqjDJwQsAR6BAgJEAE&amp;biw=1536&amp;bih=498&amp;dpr=1.25#imgrc=n64_jLKJUBJDuM:'</span>,</span><br><span class="line">                <span class="string">'https://www.google.com.hk/search?q=5+cent+picture&amp;tbm=isch&amp;source=univ&amp;sa=X&amp;ved=2ahUKEwiUqdP_sILiAhUVpJ4KHc4WBo0QsAR6BAgHEAE&amp;biw=1536&amp;bih=498#imgrc=4nPkDSV6jzmtPM:'</span>,</span><br><span class="line">                <span class="string">'https://www.google.com.hk/search?q=10+cent+picture&amp;tbm=isch&amp;source=univ&amp;sa=X&amp;ved=2ahUKEwid7MzHrYLiAhUPsZ4KHV_pB-wQsAR6BAgJEAE&amp;biw=1536&amp;bih=498#imgrc=tSuhZO5ob26USM:'</span>,</span><br><span class="line">                <span class="string">'https://www.google.com.hk/search?biw=1536&amp;bih=498&amp;tbm=isch&amp;sa=1&amp;ei=rcvNXLOiLJf7-gT325fADA&amp;q=25+cent+picture&amp;oq=25+cent+picture#imgrc=SPdU2SyxQ6tyNM:'</span>,</span><br><span class="line">                <span class="string">'https://www.google.com/search?biw=1536&amp;bih=498&amp;tbm=isch&amp;sa=1&amp;ei=27rPXISNAc-U-gSw8bKIBw&amp;q=1+dollar+coin&amp;oq=1+dollar+coin&amp;gs_l=img.3..0j0i67j0l8.1880.3046..4526...0.0..0.1243.3240.2-1j2j7-2......0....1..gws-wiz-img.HZop3grZwiA#imgrc=sQ7fSoquvqlbQM:'</span>,</span><br><span class="line">                <span class="string">'https://www.google.com/search?q=1+pound+coin&amp;source=lnms&amp;tbm=isch&amp;sa=X&amp;ved=0ahUKEwjopoOy3oXiAhUMup4KHd4zAoQQ_AUIDigB&amp;biw=1366&amp;bih=656#imgrc=Cmk0QjVR04jZ8M:'</span>,</span><br><span class="line">                <span class="string">'https://www.google.com/search?q=1+euro+coins+pictures&amp;tbm=isch&amp;tbs=rimg:CUjCBQXqwMc1IjjLWV147TNxfsot4jFYTW-D-ZdMNwIH9RAPN4NbTVGbT2WIEN4N0zHChVTYC_1PLBmu4i8IjJ-HTzyoSCctZXXjtM3F-EdESbyfDkBffKhIJyi3iMVhNb4MRsM09YsukhJUqEgn5l0w3Agf1EBFIOTsFSko0GioSCQ83g1tNUZtPEQTD6K2VqDMHKhIJZYgQ3g3TMcIRBMPorZWoMwcqEgmFVNgL88sGaxFFsZNELmkR8SoSCbiLwiMn4dPPEXrc3fEvwxkL&amp;tbo=u&amp;sa=X&amp;ved=2ahUKEwisss7e4YXiAhVPvZ4KHcg0DRgQ9C96BAgBEBg&amp;biw=1366&amp;bih=656&amp;dpr=1#imgrc=SMIFBerAxzVhMM:'</span>]</span><br><span class="line">    ##每个地址所对应的硬币种类</span><br><span class="line">    files=[<span class="string">'一美分'</span>,<span class="string">'五美分'</span>,<span class="string">'十美分'</span>,<span class="string">'二十五美分'</span>,<span class="string">'一美元'</span>,<span class="string">'一英镑'</span>,<span class="string">'一欧元'</span>]</span><br><span class="line">    #每个种类的硬币要爬取的数量</span><br><span class="line">    nums=[<span class="number">1000</span>,<span class="number">1000</span>,<span class="number">1000</span>,<span class="number">1000</span>,<span class="number">1000</span>,<span class="number">1000</span>,<span class="number">200</span>]</span><br><span class="line">    #开始对这些网页一个一个的爬取,for循环次数为start_urls内网页的个数</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(start_urls)):</span><br><span class="line">        driver.get(start_urls[i])</span><br><span class="line">        ##模拟浏览器开始自动访问第一个网址</span><br><span class="line">        sleep(<span class="number">6</span>)</span><br><span class="line">        ##设置时间等待，以确保页面加载完毕</span><br><span class="line">        print(<span class="string">"********************       当前爬取:"</span>, files[i], <span class="string">"     *******************************\n\n"</span>)</span><br><span class="line">        number=<span class="number">1</span></span><br><span class="line">        #定义一个number变量来计数已经成功爬取的图片个数</span><br><span class="line">        #在当前路径下创建文件夹，比如创建‘一美分’</span><br><span class="line">        mkdir(files[i])</span><br><span class="line">        #当已经爬取的图片个数大于要爬取的图片个数的时候，停止执行该步骤</span><br><span class="line">        <span class="keyword">while</span> (number&lt;nums[i]):</span><br><span class="line">            #调用get_str函数获取硬币图片的下载地址</span><br><span class="line">            img_url=get_str(driver)</span><br><span class="line">            print(<span class="string">"img_url"</span>,img_url)</span><br><span class="line">            ##如果没有得到地址，输出网络不好</span><br><span class="line">            <span class="keyword">if</span>(img_url==None):</span><br><span class="line">                print(<span class="string">"当前网络状况不好！！！"</span>)</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            # 定义图片名称</span><br><span class="line">            filename=get_fileneme(files[i],img_url)         #未规范版</span><br><span class="line">            filename = rename(filename)                     #规范版</span><br><span class="line">            # 保存图片</span><br><span class="line">            aaa=download(img_url, filename)</span><br><span class="line">            ##定义一个变量aaa来接收download的返回结果，如果返回为file exits则说明文件已存在，此时number不加1</span><br><span class="line">            ##如果返回结果为filename,则说明成功保存图片，此时number+1</span><br><span class="line">            <span class="keyword">if</span> (aaa == <span class="string">"file exists!"</span>):</span><br><span class="line">                print(<span class="string">"file exists!"</span>)</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            elif(aaa==filename):</span><br><span class="line">                print(<span class="string">"图片存储路径： "</span>, aaa)</span><br><span class="line">                # sleep(0.5)</span><br><span class="line">                number+=<span class="number">1</span></span><br><span class="line">        ##以下都是一些输出格式</span><br><span class="line">        print(<span class="string">"***********************    爬取"</span>, files[i], <span class="string">"完毕!!!     *****************************"</span>)</span><br><span class="line">        <span class="keyword">if</span>(i&lt;=len(nums)):</span><br><span class="line">            print(<span class="string">"*****                      下一步爬取:"</span>,files[i+<span class="number">1</span>],<span class="string">"                             *****"</span>)</span><br><span class="line">            print(<span class="string">"***********************     当前爬取进度"</span>,<span class="string">'%d / %d'</span> % (i+<span class="number">1</span>, len(nums)),<span class="string">"      *****************************\n\n"</span>)</span><br><span class="line">        sleep(<span class="number">3</span>)</span><br><span class="line">    print(<span class="string">"\n\n**********************     全部数据爬取完毕！！！      ****************************"</span>)</span><br><span class="line"></span><br><span class="line">    driver.quit()  # 关闭浏览器</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">##############################################################</span><br><span class="line">####            自定义函数结束，以上函数如果不被调用</span><br><span class="line">####            其本身是不会执行的。</span><br><span class="line">##############################################################</span><br></pre></td></tr></table></figure><br>$\qquad$其实当我们执行完之后，发现程序并没有真正的开始，那是因为，我们虽然定义了一个名叫main的函数，但是计算机不知道这个函数就是整个程序的入口，所以我们要想激活这个main函数，还需对其进行声明一下;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">##真正的开始执行</span><br><span class="line">##在前边定义的函数中选择 def main()这个函数</span><br><span class="line">##并且执行该函数内的操作</span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><br>$\qquad$当这些我们都准备好了之后，我们就可以运行该程序了，运行之后，接下来就是静待图片慢慢爬取完毕了。<br>虽然到这里程序已经可以完整的跑起来了，但是有个地方我还是忍不住，想要说几句;<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">##每个地址所对应的硬币种类</span><br><span class="line">   files=[<span class="string">'一美分'</span>,<span class="string">'五美分'</span>,<span class="string">'十美分'</span>,<span class="string">'二十五美分'</span>,<span class="string">'一美元'</span>,<span class="string">'一英镑'</span>,<span class="string">'一欧元'</span>]</span><br><span class="line">   #每个种类的硬币要爬取的数量</span><br><span class="line">   nums=[<span class="number">1000</span>,<span class="number">1000</span>,<span class="number">1000</span>,<span class="number">1000</span>,<span class="number">1000</span>,<span class="number">1000</span>,<span class="number">200</span>]</span><br><span class="line">   #开始对这些网页一个一个的爬取,for循环次数为start_urls内网页的个数</span><br></pre></td></tr></table></figure><br>$\qquad$那就是这里，可以看的出来我们这次需要爬取的硬币的种类，对于第二个数组nums，我是用来定义每种硬币所要爬取的图片个数，例如这里的一欧元图片我们就只需要200张，而其它的则需要1000张。</p>
<h1 id="4-运行结果"><a href="#4-运行结果" class="headerlink" title="4.运行结果"></a>4.运行结果</h1><p><img src="https://img-blog.csdnimg.cn/20190830210336520.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODQ2ODA3Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20190830210407798.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODQ2ODA3Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>$\qquad$其它国家硬币的截图我就不再一一展示，如果有需要的可以私聊我，我看到后定会回复。</p>

          
        
      
    </div>
	<div>
		
	</div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://kingback2019.github.io/2019/11/25/scrapy%E7%88%AC%E5%8F%96%E6%98%86%E5%B7%A5%E4%BF%A1%E8%87%AA%E9%99%A2%E5%AF%BC%E5%B8%88%E4%BF%A1%E6%81%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kingback">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/isme.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="王延凯的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/25/scrapy%E7%88%AC%E5%8F%96%E6%98%86%E5%B7%A5%E4%BF%A1%E8%87%AA%E9%99%A2%E5%AF%BC%E5%B8%88%E4%BF%A1%E6%81%AF/" itemprop="url">scrapy爬取昆工信自院导师信息</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-25T16:52:42+08:00">
                2019-11-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-爬取目的"><a href="#1-爬取目的" class="headerlink" title="1.爬取目的"></a>1.爬取目的</h1><p>$\qquad$关于昆明理工大学研究生导师信息的收集是因为昆工学校的官网经常不定时关闭，导致一些学生想要查看一些老师的信息，结果却查看不到。正好我的一位同学也刚好想要搜集老师的相关信息。这些信息都在这个学院的官网上放着，<a href="http://xzy.kmust.edu.cn/MHWZ/MHWQTGL/jslist.do?ywlbdm=001&amp;lmlxdm=02&amp;lmlbdm=0205&amp;zc=05" target="_blank" rel="noopener">http://xzy.kmust.edu.cn/MHWZ/MHWQTGL/jslist.do?ywlbdm=001&amp;lmlxdm=02&amp;lmlbdm=0205&amp;zc=05</a>但是当他看到有一百多位老师的时候，想必谁都会犯怵吧<br>于是，就想着能不能写一个程序将这些信息全部收集起来呢。</p>
<h1 id="2-技术可行性"><a href="#2-技术可行性" class="headerlink" title="2.技术可行性"></a>2.技术可行性</h1><p>$\qquad$现如今随着网络技术的发展，以及数据量的急剧增大，就萌生了一种新的技术，称之为爬虫。我所了解到的很多从事大数据行业的以及做数据分析的从业者，都有需要进行爬虫的需求。这也就使得这项爬虫技术很快的发展，正好在此处也为我们的此次“偷懒”提供了可能。</p>
<h1 id="3-scrapy爬虫"><a href="#3-scrapy爬虫" class="headerlink" title="3.scrapy爬虫"></a>3.scrapy爬虫</h1><p>$\qquad$多番调研之后我们采用了很多人都会使用的scrapy爬虫框架，接下来我来简单介绍一下该框架的运行机制：<br>Scrapy 使用了 Twisted异步网络库来处理网络通讯。整体架构大致如下：<br><img src="https://img-blog.csdnimg.cn/20190830153947646.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODQ2ODA3Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>$\qquad$从上边的示意图中我们也可以看出，scrapy是由这几个不同的功能模块相互协作，一起完成爬取动作的，接下来我来简单介绍一下其各个功能模块的作用：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>功能模块</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>引擎(Scrapy)</td>
<td>处理整个系统的数据流、触发事务（框架核心）</td>
</tr>
<tr>
<td>调度器(Scheduer)</td>
<td>接收引擎发过来的请求，压入队列，在引擎再次请求的时候返回。（其中这个队列指的是要抓取网页的Url地址，可以去除重复网址。）</td>
</tr>
<tr>
<td>下载器(Downloader)</td>
<td>用于下载页面内容，并将页面内容返回给spiders</td>
</tr>
<tr>
<td>爬虫(Spiders)</td>
<td>在这一部分完成爬取工作的大部分，即在网页中提取出用户需要的数据，并将其赋值给Item实体。也可以在这里进行翻页操作。</td>
</tr>
<tr>
<td>项目管道(Pipeline)</td>
<td>处理刚才传递的Item实体，验证实体有效性。</td>
</tr>
<tr>
<td>下载器中间件(Downloader Middlewares)</td>
<td>处理Scrapy引擎与下载器(Downloader)之间的请求及响应</td>
</tr>
<tr>
<td>爬虫中间件(Spider Middlewares)</td>
<td>处理蜘蛛的响应输入和请求输出。</td>
</tr>
<tr>
<td>调度中间件(Scheduer Middlewares)</td>
<td>从Scrapy引擎发送到调度的请求和响应。</td>
</tr>
</tbody>
</table>
</div>
<p>从上边的表格中我们也可以明白整个scrapy框架的工作流程可以简单表述成：</p>
<ol>
<li>引擎在调度器中抽取一个网址（URL）用于下一步的抓取</li>
<li>引擎把网址（URL）封装成一个Request请求传给下载器</li>
<li>下载器把资源下载下来，并且封装成Response应答包</li>
<li>Spiders爬虫解析应答包Response</li>
<li>解析出Item实体后，将Item实体交给实体管道进行进一步的处理</li>
<li>如果解析出的是链接，则把新的URL压入调度器中，等待抓取。</li>
</ol>
<h1 id="4-爬取过程及结果"><a href="#4-爬取过程及结果" class="headerlink" title="4.爬取过程及结果"></a>4.爬取过程及结果</h1><p>$\qquad$此次爬取，暂且略去scrapy整个爬虫框架环境的搭建，如果以后有机会的话，我会再为大家写一个详细教程的。此次博客仅以这个小抓取实验展开。</p>
<h2 id="4-1-根据要抓取的信息首先创建一个Item实体"><a href="#4-1-根据要抓取的信息首先创建一个Item实体" class="headerlink" title="4.1 根据要抓取的信息首先创建一个Item实体"></a>4.1 根据要抓取的信息首先创建一个Item实体</h2><p>$\qquad$首先我们先参照一下需要存取的信息，包括：教师姓名，性别，职称……个人简介等等。<br><img src="https://img-blog.csdnimg.cn/20190830162002100.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODQ2ODA3Nw==,size_16,color_FFFFFF,t_70#pic_center =540x440" alt="在这里插入图片描述"><br>按照上边的需求我们在items.py内定义一下实体：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line"># Define here the models for your scraped items</span><br><span class="line">#</span><br><span class="line"># See documentation in:</span><br><span class="line"># https://doc.scrapy.org/en/latest/topics/items.html</span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line">class CoinPicsItem(scrapy.Item):</span><br><span class="line">    # define the fields for your item here like:</span><br><span class="line">    url=scrapy.Field()#老师独立介绍界面</span><br><span class="line">    name=scrapy.Field()#姓名</span><br><span class="line">    gender=scrapy.Field()#性别</span><br><span class="line">    position=scrapy.Field()#职称</span><br><span class="line">    type=scrapy.Field()#</span><br><span class="line">    email=scrapy.Field()#电子邮件</span><br><span class="line">    phone=scrapy.Field()#电话</span><br><span class="line">    office_address=scrapy.Field()#办公地址</span><br><span class="line">    eduction_background=scrapy.Field()#教育背景</span><br><span class="line">    search_derection=scrapy.Field()#研究方向</span><br><span class="line">    description=scrapy.Field()#老师描述</span><br><span class="line">    img_url=scrapy.Field()#老师照片存储地址</span><br></pre></td></tr></table></figure></p>
<h2 id="4-2-解析出Item-并将Item交给Pipeline管道"><a href="#4-2-解析出Item-并将Item交给Pipeline管道" class="headerlink" title="4.2 解析出Item,并将Item交给Pipeline管道"></a>4.2 解析出Item,并将Item交给Pipeline管道</h2><p>这里才是对于数据进行处理的重头戏，以下为其代码：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"><span class="keyword">from</span> coin_pics.items <span class="keyword">import</span> CoinPicsItem</span><br><span class="line"><span class="keyword">from</span> scrapy.http <span class="keyword">import</span> Request</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.remote.webelement <span class="keyword">import</span> WebElement</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.ui <span class="keyword">import</span> WebDriverWait</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support <span class="keyword">import</span> expected_conditions <span class="keyword">as</span> EC</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> selenium.common.exceptions <span class="keyword">import</span> TimeoutException</span><br><span class="line"></span><br><span class="line">class CoinPicSpider(scrapy.Spider):</span><br><span class="line">    name = <span class="string">'coin_pic'</span></span><br><span class="line">    allowed_domains = [<span class="string">'xzy.kmust.edu.cn'</span>]</span><br><span class="line">    start_urls = [<span class="string">'http://xzy.kmust.edu.cn/MHWZ/MHWQTGL/jslist.do?ywlbdm=001&amp;lmlxdm=02&amp;lmlbdm=0205&amp;zc=05'</span>,</span><br><span class="line">                  ]</span><br><span class="line">    #起始抓取网页地址，也就是我们所说的URL队列</span><br><span class="line">    def parse(self, response):</span><br><span class="line">        # print(response)</span><br><span class="line">        items = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">136</span>):</span><br><span class="line">            item = CoinPicsItem()</span><br><span class="line">            url=response.xpath(<span class="string">'//*[@id="jslist"]/tr/td/a/@href'</span>).extract()[i]</span><br><span class="line">            item[<span class="string">'url'</span>] = <span class="string">'http://xzy.kmust.edu.cn'</span> + url</span><br><span class="line">            <span class="keyword">yield</span> scrapy.http.Request(item[<span class="string">'url'</span>], meta=&#123;<span class="string">'item'</span>: item&#125;, callback=self.parse1)</span><br><span class="line"></span><br><span class="line">    def parse1(self,response):</span><br><span class="line">        item = response.meta[<span class="string">'item'</span>]</span><br><span class="line">        #开始接收返回的数据</span><br><span class="line">        #获取老师姓名</span><br><span class="line">        ccc = response.xpath(<span class="string">'//*[@id="jsxxread"]/tr[1]/td[2]/text()'</span>).extract()[<span class="number">0</span>]</span><br><span class="line">        item[<span class="string">'name'</span>]=self.get_need_name(ccc)</span><br><span class="line">        #获取老师性别</span><br><span class="line">        ccc = response.xpath(<span class="string">'//*[@id="jsxxread"]/tr[1]/td[4]/text()'</span>).extract()[<span class="number">0</span>]</span><br><span class="line">        item[<span class="string">'gender'</span>]=self.get_need_name(ccc)</span><br><span class="line">        #获取老师职称</span><br><span class="line">        ccc = response.xpath(<span class="string">'//*[@id="jsxxread"]/tr[2]/td[2]/text()'</span>).extract()[<span class="number">0</span>]</span><br><span class="line">        item[<span class="string">'position'</span>] = self.get_need_name(ccc)</span><br><span class="line">        #获取老师所属教研室</span><br><span class="line">        ccc = response.xpath(<span class="string">'//*[@id="jsxxread"]/tr[2]/td[4]/text()'</span>).extract()[<span class="number">0</span>]</span><br><span class="line">        item[<span class="string">'type'</span>] = self.get_need_name(ccc)</span><br><span class="line">        #获取老师电子邮箱</span><br><span class="line">        ccc = response.xpath(<span class="string">'//*[@id="jsxxread"]/tr[3]/td[2]/text()'</span>).extract()[<span class="number">0</span>]</span><br><span class="line">        item[<span class="string">'email'</span>] = self.get_need_name(ccc)</span><br><span class="line">        #获取老师电话</span><br><span class="line">        ccc = response.xpath(<span class="string">'//*[@id="jsxxread"]/tr[3]/td[4]/text()'</span>).extract()[<span class="number">0</span>]</span><br><span class="line">        item[<span class="string">'phone'</span>] = self.get_need_name(ccc)</span><br><span class="line">        #获取老师办公地址</span><br><span class="line">        ccc = response.xpath(<span class="string">'//*[@id="jsxxread"]/tr[4]/td[2]/text()'</span>).extract()[<span class="number">0</span>]</span><br><span class="line">        item[<span class="string">'office_address'</span>] = self.get_need_name(ccc)</span><br><span class="line">        #获取老师教育背景</span><br><span class="line">        ccc=response.xpath(<span class="string">'//*[@id="jsxxread"]/tr[5]/td[2]/p/text()'</span>).extract()</span><br><span class="line">        item[<span class="string">'eduction_background'</span>]=<span class="string">'暂无描述'</span></span><br><span class="line">        <span class="keyword">if</span>(len(ccc)!=<span class="number">0</span>):</span><br><span class="line">            item[<span class="string">'eduction_background'</span>] = response.xpath(<span class="string">'//*[@id="jsxxread"]/tr[5]/td[2]/p/text()'</span>).extract()[<span class="number">0</span>]</span><br><span class="line">        #获取老师研究方向</span><br><span class="line">        ccc = response.xpath(<span class="string">'//*[@id="jsxxread"]/tr[6]/td[2]/text()'</span>).extract()[<span class="number">0</span>]</span><br><span class="line">        item[<span class="string">'search_derection'</span>] = self.get_need_name(ccc)</span><br><span class="line">        #获取老师描述</span><br><span class="line">        bbb=response.xpath(<span class="string">'//*[@id="jsxxread"]/tr[8]/td/div/div/span/text()'</span>).extract()</span><br><span class="line">        description=<span class="string">''</span></span><br><span class="line">        <span class="keyword">for</span> b <span class="keyword">in</span> bbb:</span><br><span class="line">            description=description+b</span><br><span class="line">        item[<span class="string">'description'</span>]=description</span><br><span class="line">        #获取老师图片连接地址</span><br><span class="line">        aaa=response.xpath(<span class="string">'//*[@id="div1"]//@src'</span>).extract()</span><br><span class="line">        item[<span class="string">'img_url'</span>]=<span class="string">'暂无图片'</span></span><br><span class="line">        <span class="keyword">if</span>(len(aaa)!=<span class="number">0</span>):</span><br><span class="line">            img_url= response.xpath(<span class="string">'//*[@id="div1"]//@src'</span>).extract()[<span class="number">0</span>]</span><br><span class="line">            lists=re.split(r<span class="string">'../'</span>,img_url)</span><br><span class="line">            item[<span class="string">'img_url'</span>] = <span class="string">'http://xzy.kmust.edu.cn/'</span> + lists[<span class="number">2</span>] + <span class="string">'os/'</span> + lists[<span class="number">3</span>]</span><br><span class="line">        <span class="keyword">yield</span> item</span><br><span class="line">        #http://xzy.kmust.edu.cn/Servletphoto?path=teacherphotos/cwg001.jpg</span><br><span class="line">        #../../Servletphoto?path=teacherphotos/cwg001.jpg</span><br><span class="line">    def get_need_name(self,str):</span><br><span class="line">        lists = re.split(r<span class="string">'\r\n'</span>, str)</span><br><span class="line">        list=re.split(r<span class="string">' '</span>,lists[<span class="number">1</span>])</span><br><span class="line">        result = list[<span class="number">-1</span>]</span><br><span class="line">        <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure><br>$\qquad$当然如果你只做到这里我们知识完成了对于Item实体的赋值，其实如果你没有声明一下的话，下一步Pipeline管道是永远不会得到要进一步处理的实体Item的。因此这就需要我们在setting.py文件里边加入如下声明，我要将Item传入哪个管道进行处理。（此处我们的项目因为比较小，所以只开设了一个管道，但如果项目管道多的时候，计算机就不知道我们要将Item实体传入到哪个管道了，所以此处非常重要！！）<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Configure item pipelines</span><br><span class="line"># See https://doc.scrapy.org/en/latest/topics/item-pipeline.html</span><br><span class="line">ITEM_PIPELINES = &#123;</span><br><span class="line">   <span class="string">'coin_pics.pipelines.CoinPicsPipeline'</span>: <span class="number">300</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>代码中的管道数值，可以随意设置，一般设置为1~1000皆可。主要用于区分不同的管道（至少我是这么理解的）。</p>
<h2 id="4-3-在Pipeline实现对于爬取信息的保存"><a href="#4-3-在Pipeline实现对于爬取信息的保存" class="headerlink" title="4.3 在Pipeline实现对于爬取信息的保存"></a>4.3 在Pipeline实现对于爬取信息的保存</h2><p>$\qquad$在管道内得到Item实体传过来的信息以后，我们需要在对应的pipelines进行数据的进一步处理（比如保存，存入数据库等等），但如果是网页地址的话，可以按照需求选择是否传回之前的等待爬取的URL网址队列。<br>$\qquad$此处我们就直接将导师的图片直接下载到本地。pipelines.py代码如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line"># Define your item pipelines here</span><br><span class="line">#</span><br><span class="line"># Don't forget to add your pipeline to the ITEM_PIPELINES setting</span><br><span class="line"># See: https://doc.scrapy.org/en/latest/topics/item-pipeline.html</span><br><span class="line"><span class="keyword">import</span> openpyxl</span><br><span class="line"><span class="keyword">from</span> openpyxl <span class="keyword">import</span> Workbook</span><br><span class="line"><span class="keyword">from</span> openpyxl.drawing <span class="keyword">import</span> image</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line">#存储到本地数据</span><br><span class="line">class CoinPicsPipeline(object):</span><br><span class="line">    def __init__(self):</span><br><span class="line">        #创建excel,填写表头</span><br><span class="line">        self.wb = Workbook()</span><br><span class="line">        self.ws = self.wb.active</span><br><span class="line">        self.ws.append(['姓名', '性别', '职位', '所在院系','电子邮件','电话','办公地址','教育背景','研究方向','描述','图片'])  # 设置表头</span><br><span class="line">    def process_item(self, item, spider):</span><br><span class="line">        line = [item[<span class="string">'name'</span>], item[<span class="string">'gender'</span>], item[<span class="string">'position'</span>], item[<span class="string">'type'</span>],item[<span class="string">'email'</span>],item[<span class="string">'phone'</span>],item[<span class="string">'office_address'</span>],</span><br><span class="line">                item['eduction_background'],item['search_derection'],item['description'],item['img_url']]  # 把数据中每一项整理出来</span><br><span class="line">        self.ws.append(line)  # 将数据以行的形式添加到xlsx中</span><br><span class="line">        self.wb.save('kmust_teachers2.xlsx')  # 保存xlsx文件</span><br><span class="line"></span><br><span class="line">        #以下将图片爬取下来存储到本地</span><br><span class="line">        <span class="keyword">if</span>(item[<span class="string">'img_url'</span>]!=<span class="string">'暂无图片'</span>):</span><br><span class="line">            imgres = requests.get(item[<span class="string">'img_url'</span>])</span><br><span class="line">            <span class="keyword">with</span> open(r<span class="string">'K:/数据存档/scrapy项目/coin_pics/coin_pics/teachers/'</span>+str(item[<span class="string">'name'</span>])+<span class="string">'.jpg'</span>, <span class="string">"wb"</span>) <span class="keyword">as</span> f:</span><br><span class="line">                f.write(imgres.content)</span><br><span class="line">        <span class="keyword">return</span> item</span><br></pre></td></tr></table></figure><br>$\qquad$例如在这个管道中，我就讲导师的全部信息先存到一个excel表格中，并且又单独对各个导师的图片进行了下载。</p>
<h2 id="4-4-关于程序的执行"><a href="#4-4-关于程序的执行" class="headerlink" title="4.4 关于程序的执行"></a>4.4 关于程序的执行</h2><p>$\qquad$由于scrapy框架的特殊，我们在启动该爬虫时，还需要在同级目录下自己创建一个python文件来启动该爬虫模块。例如我自己创建了一个run.py文件，其内容如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># @Time : 2019/5/4 11:17 </span><br><span class="line"># @Author : kingback</span><br><span class="line"># @File : run.py </span><br><span class="line"># @Software: PyCharm</span><br><span class="line"><span class="keyword">from</span> scrapy <span class="keyword">import</span> cmdline</span><br><span class="line">cmdline.execute(<span class="string">"scrapy crawl coin_pic"</span>.split())</span><br></pre></td></tr></table></figure><br>$\qquad$我们需要调用cmd命令窗口来执行名字为“coin_pic”的爬虫。这个名字是在我们一开始要创建爬虫时必须为起的一个名字，就像是一个小孩的出生，你得给他起个名字一样。这样该命令一执行，就会启动我们的爬虫。</p>
<h1 id="5-程序运行截图"><a href="#5-程序运行截图" class="headerlink" title="5.程序运行截图"></a>5.程序运行截图</h1><p><img src="https://img-blog.csdnimg.cn/2019083017015758.gif" alt="在这里插入图片描述"></p>
<h1 id="6-最后如果有人想要此次爬取的资料（照片-excel），可以私聊我，看到后肯定会回复的。"><a href="#6-最后如果有人想要此次爬取的资料（照片-excel），可以私聊我，看到后肯定会回复的。" class="headerlink" title="6.最后如果有人想要此次爬取的资料（照片+excel），可以私聊我，看到后肯定会回复的。"></a>6.最后如果有人想要此次爬取的资料（照片+excel），可以私聊我，看到后肯定会回复的。</h1>
          
        
      
    </div>
	<div>
		
	</div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://kingback2019.github.io/2019/11/25/MYSQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%93%8D%E4%BD%9C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kingback">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/isme.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="王延凯的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/25/MYSQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%93%8D%E4%BD%9C/" itemprop="url">mysql数据库操作</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-25T16:52:21+08:00">
                2019-11-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C/" itemprop="url" rel="index">
                    <span itemprop="name">数据库操作</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-检查数据库版本"><a href="#1-检查数据库版本" class="headerlink" title="1. 检查数据库版本"></a>1. 检查数据库版本</h1><p>打开电脑cmd窗口，在其中输入mysql -uroot -p，如下所示：<br><img src="https://img-blog.csdnimg.cn/20190829215635637.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODQ2ODA3Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>$\qquad$ 如果你的电脑出现如图所示，说明你的电脑mysql已经配置成功了。如果没有成功，你可以去检查一下mysql是否已经安装成功，如果已经安装了，但是还是没有出现我的类似界面，检查一下是否将mysql安装路径配置到环境变量。</p>
<h1 id="2-查看已有数据库"><a href="#2-查看已有数据库" class="headerlink" title="2. 查看已有数据库"></a>2. 查看已有数据库</h1><p>$\qquad$ 使用命令show databases;将会得到目前已经创建的数据库目录。<br><img src="https://img-blog.csdnimg.cn/2019082922054779.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODQ2ODA3Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>在列表中就是显示出我的mysql中已经创建的数据库。</p>
<h1 id="3-创建数据库"><a href="#3-创建数据库" class="headerlink" title="3.创建数据库"></a>3.创建数据库</h1><p>$\qquad$ 使用命令create database test；来创建一个名叫test的数据库，并且使用show databases;查看是否创建成功。<br><img src="https://img-blog.csdnimg.cn/20190829221118386.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODQ2ODA3Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>可以看到新创建的test数据库已经建立。</p>
<h2 id="3-1-数据库的使用"><a href="#3-1-数据库的使用" class="headerlink" title="3.1 数据库的使用"></a>3.1 数据库的使用</h2><p>使用ues test；命令来操作刚刚创建的test数据库，并且使用命show tables；查看数据库中存在的表格。<br><img src="https://img-blog.csdnimg.cn/20190829221353796.png#pic_center" alt="在这里插入图片描述"></p>
<h3 id="3-1-1-创建表格"><a href="#3-1-1-创建表格" class="headerlink" title="3.1.1 创建表格"></a>3.1.1 创建表格</h3><p>如果我们想要创建一个表格的话，可以参照以下格式：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">create table tablename(</span><br><span class="line">			name varchar(<span class="number">20</span>),</span><br><span class="line">			age smallint,</span><br><span class="line">			gender varchar(<span class="number">1</span>),</span><br><span class="line">			<span class="class"><span class="keyword">class</span> <span class="title">varchar</span>(20),</span></span><br><span class="line"><span class="class">			<span class="title">id</span> <span class="title">smallint</span> <span class="title">unsigned</span> <span class="title">auto_increment</span> <span class="title">primary</span> <span class="title">key</span></span></span><br><span class="line"><span class="class">			)</span>;</span><br></pre></td></tr></table></figure><br> $\qquad$ 需要注意的是，在每个表格中都需要有一个主键，标拾命令为private key，并且我们在此表中还将id列设置为int类型的自增类型。这样就不必每次都插入id列了，而是由计算机直接生成。<br>执行之后则可以看到如下所示界面：<br><img src="https://img-blog.csdnimg.cn/20190829221526674.png#pic_center" alt="在这里插入图片描述"></p>
<h3 id="3-1-2-显示表格"><a href="#3-1-2-显示表格" class="headerlink" title="3.1.2 显示表格"></a>3.1.2 显示表格</h3><p>$\qquad$ 并且使用show columns from qust;命令查看该表包含的列。<br><img src="https://img-blog.csdnimg.cn/20190829222123275.png#pic_center" alt="在这里插入图片描述"><br>上图展示的就是我们刚刚建立的表的结构。</p>
<h2 id="3-2-数据表格的操作（增删查改）"><a href="#3-2-数据表格的操作（增删查改）" class="headerlink" title="3.2 数据表格的操作（增删查改）"></a>3.2 数据表格的操作（增删查改）</h2><p>$\qquad$ 其实在我看来，对于数据库简单的操作，一般都是对于数据库内容的增删查改使用的多，因此，此处我也就仅仅拿这几个方向来分别做一下实验。</p>
<h3 id="3-2-1-向表中插入数据"><a href="#3-2-1-向表中插入数据" class="headerlink" title="3.2.1 向表中插入数据"></a>3.2.1 向表中插入数据</h3><p>当我们想要向表格中插入几条数据的时候，其语法如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO table_name ( field1, field2,...fieldN ) VALUES ( value1, value2,...valueN );</span><br></pre></td></tr></table></figure><br>下图所示为我在数据库中插入数据信息：<br><img src="https://img-blog.csdnimg.cn/20190829223516603.png#pic_center" alt="在这里插入图片描述"></p>
<h3 id="3-2-2-查询表中数据"><a href="#3-2-2-查询表中数据" class="headerlink" title="3.2.2 查询表中数据"></a>3.2.2 查询表中数据</h3><p>查询数据表格中的数据，其语法如下所示：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name,column_name FROM table_name [WHERE Clause] [LIMIT N][ OFFSET M]</span><br></pre></td></tr></table></figure><br><img src="https://img-blog.csdnimg.cn/20190829223725712.png#pic_center" alt="在这里插入图片描述"></p>
<h3 id="3-2-3-更改表中某条数据"><a href="#3-2-3-更改表中某条数据" class="headerlink" title="3.2.3 更改表中某条数据"></a>3.2.3 更改表中某条数据</h3><p>更改数据库中某条件下的数据，其使用规范为：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE table_name SET field1=<span class="keyword">new</span>-value1, field2=<span class="keyword">new</span>-value2 [WHERE Clause]</span><br></pre></td></tr></table></figure><br><img src="https://img-blog.csdnimg.cn/20190829223801220.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODQ2ODA3Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h3 id="3-2-4-删除表中某条数据"><a href="#3-2-4-删除表中某条数据" class="headerlink" title="3.2.4 删除表中某条数据"></a>3.2.4 删除表中某条数据</h3><p>在删除之前我先插入了一些数据如下所示：<br><img src="https://img-blog.csdnimg.cn/20190829224519951.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODQ2ODA3Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>执行删除操作，使用delete from qust where id=2;删除表中的刘淑贵<br>其使用规范为：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DELETE FROM table_name [WHERE Clause]</span><br></pre></td></tr></table></figure><br><img src="https://img-blog.csdnimg.cn/20190829224537303.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODQ2ODA3Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h2 id="3-3-最大、最小、平均值查询"><a href="#3-3-最大、最小、平均值查询" class="headerlink" title="3.3 最大、最小、平均值查询"></a>3.3 最大、最小、平均值查询</h2><h3 id="3-3-1-查询表中工资最高值"><a href="#3-3-1-查询表中工资最高值" class="headerlink" title="3.3.1 查询表中工资最高值"></a>3.3.1 查询表中工资最高值</h3><p>查询表中数据最高值的使用规范：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select max(field1) <span class="keyword">as</span> maxvalue <span class="keyword">from</span> table1</span><br></pre></td></tr></table></figure><br><img src="https://img-blog.csdnimg.cn/20190829225008900.png#pic_center" alt="在这里插入图片描述"></p>
<h3 id="3-3-2-查询表中工资最低值"><a href="#3-3-2-查询表中工资最低值" class="headerlink" title="3.3.2 查询表中工资最低值"></a>3.3.2 查询表中工资最低值</h3><p>查询最低工资，使用规范：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select min(field1) <span class="keyword">as</span> minvalue <span class="keyword">from</span> table1</span><br></pre></td></tr></table></figure><br><img src="https://img-blog.csdnimg.cn/20190829224950651.png#pic_center" alt="在这里插入图片描述"></p>
<h3 id="3-3-3-查询表中工资平均值"><a href="#3-3-3-查询表中工资平均值" class="headerlink" title="3.3.3 查询表中工资平均值"></a>3.3.3 查询表中工资平均值</h3><p>查询平均工资：使用规范：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select avg(field1) <span class="keyword">as</span> avgvalue <span class="keyword">from</span> table1</span><br></pre></td></tr></table></figure><br><img src="https://img-blog.csdnimg.cn/20190829225026426.png#pic_center" alt="在这里插入图片描述"></p>
<h2 id="3-4-排序"><a href="#3-4-排序" class="headerlink" title="3.4 排序"></a>3.4 排序</h2><p>按照工资高低进行排序，使用规范：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * <span class="keyword">from</span> table1 order by field1,field2 [desc]</span><br></pre></td></tr></table></figure><br>可以看到 添加desc 是对其工资从高到低进行排序，而如果不添加desc 则会对其进行升序排列。<br><img src="https://img-blog.csdnimg.cn/20190829230452213.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODQ2ODA3Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>

          
        
      
    </div>
	<div>
		
	</div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://kingback2019.github.io/2019/11/25/jsp+servelt+mysql+tomcat%20%E5%9B%9B%E5%85%AD%E7%BA%A7%E5%8D%95%E8%AF%8D%E6%9F%A5%E8%AF%A2%E7%B3%BB%E7%BB%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kingback">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/isme.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="王延凯的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/25/jsp+servelt+mysql+tomcat%20%E5%9B%9B%E5%85%AD%E7%BA%A7%E5%8D%95%E8%AF%8D%E6%9F%A5%E8%AF%A2%E7%B3%BB%E7%BB%9F/" itemprop="url">jsp+servelt+mysql+tomcat实现的四六级单词查询系统</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-25T16:48:06+08:00">
                2019-11-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="0-具体要求"><a href="#0-具体要求" class="headerlink" title="0.具体要求"></a>0.具体要求</h1><ol>
<li>要求建立大学四级、 六级词汇表（可从网上找来）放到 MYSQL 数据库中；</li>
<li>完善上周发布的网站，实现一个单词查询的页面，能够根据拼写、词性、难度范围（四级 or 六级）等信息查出所需要单词的释义。网页可参照金山词霸、汉典、有道等的风格；</li>
<li>反查：能依据释义内容，模糊查出对应的单词；</li>
<li>统计：实现对单词表中 a，b，c 到 z 开头单词个数的统计，结果以表格输出到网页上；</li>
<li>学习如何在网页上绘图：建议用 Jscharts 工具（从网上查吧，各位），将单词统计表作图， 成为单词统计曲线图或直方图；</li>
<li>在网页上显示gif动图、视频、音频；</li>
<li>将汉字字频表格查询出后显示在前端页面。</li>
</ol>
<h1 id="1-系统的工作流程以及原理"><a href="#1-系统的工作流程以及原理" class="headerlink" title="1. 系统的工作流程以及原理"></a>1. 系统的工作流程以及原理</h1><h2 id="1-1-Servelt介绍"><a href="#1-1-Servelt介绍" class="headerlink" title="1.1 Servelt介绍"></a>1.1 Servelt介绍</h2><p>首先简单介绍一下Servelt，它是运行在 Web 服务器或应用服务器上的程序，它是作为来自 Web 浏览器或其他 HTTP 客户端的请求和 HTTP 服务器上的数据库或应用程序之间的中间层。这个关系我们可以再下边的图中展示。<br><img src="https://img-blog.csdnimg.cn/20190831172633882.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODQ2ODA3Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><strong>再来说一下Servelt的作用以及任务吧</strong></p>
<ol>
<li>读取客户端（浏览器）发送的显式的数据。这包括网页上的 HTML 表单，或者也可以是来自 applet 或自定义的 HTTP 客户端程序的表单。</li>
<li>读取客户端（浏览器）发送的隐式的 HTTP 请求数据。这包括 cookies、媒体类型和浏览器能理解的压缩格式等等。</li>
<li>处理数据并生成结果。这个过程可能需要访问数据库，执行 RMI 或 CORBA 调用，调用 Web 服务，或者直接计算得出对应的响应。</li>
<li>发送显式的数据（即文档）到客户端（浏览器）。该文档的格式可以是多种多样的，包括文本文件（HTML 或 XML）、二进制文件（GIF 图像）、Excel 等。</li>
<li>发送隐式的 HTTP 响应到客户端（浏览器）。这包括告诉浏览器或其他客户端被返回的文档类型（例如 HTML），设置 cookies 和缓存参数，以及其他类似的任务。</li>
</ol>
<p><strong>另外，相比于CGL,servelt还有其以下几点优势：</strong></p>
<ol>
<li>性能明显更好。</li>
<li>Servlet 在 Web 服务器的地址空间内执行。这样它就没有必要再创建一个单独的进程来处理每个客户端请求。</li>
<li>Servlet 是独立于平台的，因为它们是用 Java 编写的。</li>
<li>服务器上的 Java 安全管理器执行了一系列限制，以保护服务器计算机上的资源。因此，Servlet 是可信的。</li>
<li>Java 类库的全部功能对 Servlet 来说都是可用的。它可以通过 sockets 和 RMI 机制与 applets、数据库或其他软件进行交互。<h2 id="1-2-jsp介绍"><a href="#1-2-jsp介绍" class="headerlink" title="1.2 jsp介绍"></a>1.2 jsp介绍</h2></li>
<li>JSP（全称Java Server Pages）是由 Sun Microsystems 公司倡导和许多公司参与共同创建的一种使软件开发者可以响应客户端请求，而动态生成 HTML、XML 或其他格式文档的Web网页的技术标准。</li>
<li>JSP 技术是以 Java 语言作为脚本语言的，JSP 网页为整个服务器端的 Java 库单元提供了一个接口来服务于HTTP的应用程序。JSP文件后缀名为 *.jsp 。</li>
<li>JSP开发的WEB应用可以跨平台使用，既可以运行在 Linux 上也能运行在 Windows 上。</li>
</ol>
<p>正因为Jsp是以java语言作为脚本语言的，所以，在整个系统的前端部分，由jsp页面来担任。</p>
<h2 id="1-3-Tomcat介绍"><a href="#1-3-Tomcat介绍" class="headerlink" title="1.3 Tomcat介绍"></a>1.3 Tomcat介绍</h2><p>$\qquad$开源小型web服务器 ，完全免费，主要用于中小型web项目，<strong>只支持Servlet和JSP 等少量javaee规范（就是JavaWeb编程接口）</strong>。也正因为tomcat对于java和servelt很好的嵌合，所以我们的此次系统选用了Tomcat服务器。</p>
<h1 id="2-功能实现"><a href="#2-功能实现" class="headerlink" title="2.功能实现"></a>2.功能实现</h1><h2 id="2-1-建立四六级单词的MYSQL表格"><a href="#2-1-建立四六级单词的MYSQL表格" class="headerlink" title="2.1 建立四六级单词的MYSQL表格"></a>2.1 建立四六级单词的MYSQL表格</h2><p>写了一个<strong>python</strong>程序，来执行将四级单词的txt表格存入mysql数据库<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"># @Time : 2019/6/21 15:29 </span><br><span class="line"># @Author : kingback</span><br><span class="line"># @File : CET4-MySQL.py </span><br><span class="line"># @Software: PyCharm</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"></span><br><span class="line"># 打开数据库连接</span><br><span class="line">db = pymysql.connect(host=<span class="string">"127.0.0.1"</span>,user=<span class="string">"root"</span>,  password=<span class="string">"123456"</span>,db=<span class="string">"words"</span>,charset = <span class="string">'utf8'</span>)</span><br><span class="line"></span><br><span class="line"># 使用 cursor() 方法创建一个游标对象 cursor</span><br><span class="line">cursor = db.cursor()</span><br><span class="line">filename = <span class="string">"C:/Users/kingback/Desktop/四六级但系/四级.txt"</span></span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> open(filename, encoding=<span class="string">"utf-8"</span>):</span><br><span class="line">    hh = re.split(r<span class="string">"\t|\n"</span>, line)</span><br><span class="line">    english = hh[<span class="number">0</span>]</span><br><span class="line">    sent = hh[<span class="number">1</span>]</span><br><span class="line">    chinese = hh[<span class="number">2</span>]</span><br><span class="line">    level=<span class="string">"4"</span></span><br><span class="line">    #2、插入操作</span><br><span class="line">    sql=<span class="string">"insert into cet(english,chinese,sent,level) values('%s', '%s', '%s','%s')"</span></span><br><span class="line">    data=(english,chinese,sent,level)</span><br><span class="line">    cursor.execute(sql%data)   # execute也可以执行创建和修改库与表语句</span><br><span class="line">    print(<span class="string">"当前插入单词： "</span>,english)</span><br><span class="line">    db.commit()</span><br><span class="line"># 关闭数据库连接</span><br><span class="line">db.close()</span><br></pre></td></tr></table></figure><br>为了区别四级单词和六级单词的区别，我又单独写了一个针对存取六级单词的<strong>Python</strong>文件，其内容如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"># @Time : 2019/6/21 15:30 </span><br><span class="line"># @Author : kingback</span><br><span class="line"># @File : CET6-MySQL.py </span><br><span class="line"># @Software: PyCharm</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"></span><br><span class="line"># 打开数据库连接</span><br><span class="line">db = pymysql.connect(host=<span class="string">"127.0.0.1"</span>,user=<span class="string">"root"</span>,  password=<span class="string">"123456"</span>,db=<span class="string">"words"</span>,charset = <span class="string">'utf8'</span>)</span><br><span class="line"># 使用 cursor() 方法创建一个游标对象 cursor</span><br><span class="line">cursor = db.cursor()</span><br><span class="line">filename = <span class="string">"C:/Users/kingback/Desktop/四六级但系/六级.txt"</span></span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> open(filename, encoding=<span class="string">"utf-8"</span>):</span><br><span class="line">    hh = re.split(r<span class="string">"\t|\n"</span>, line)</span><br><span class="line">    english = hh[<span class="number">0</span>]</span><br><span class="line">    sent = hh[<span class="number">1</span>]</span><br><span class="line">    chinese = hh[<span class="number">2</span>]</span><br><span class="line">    level=<span class="string">"6"</span></span><br><span class="line">    #2、插入操作</span><br><span class="line">    sql=<span class="string">"insert into cet(english,chinese,sent,level) values('%s', '%s', '%s','%s')"</span></span><br><span class="line">    data=(english,chinese,sent,level)</span><br><span class="line">    cursor.execute(sql%data)   # execute也可以执行创建和修改库与表语句</span><br><span class="line">    print(<span class="string">"当前插入单词： "</span>,english)</span><br><span class="line">    # db.commit()</span><br><span class="line"># 关闭数据库连接</span><br><span class="line">db.close()</span><br></pre></td></tr></table></figure><br>接下来我展示一下四级单词存取的运行过程，<br><img src="https://img-blog.csdnimg.cn/20190831171422659.gif" alt="在这里插入图片描述"><br>因为六级的运行和四级的运行相差不多，于是我就仅展示了四级的。</p>
<h2 id="2-2-功能实现"><a href="#2-2-功能实现" class="headerlink" title="2.2  功能实现"></a>2.2  功能实现</h2><h3 id="2-2-1-整个项目组成"><a href="#2-2-1-整个项目组成" class="headerlink" title="2.2.1 整个项目组成"></a>2.2.1 整个项目组成</h3><p>整个项目是由 </p>
<ol>
<li>index.jsp (登陆主界面)、Chinese.jsp 、pic.jsp (使用jscharts画图界面)、data.jsp四个jsp页面</li>
<li>ChangeServelt (实际未使用)、DemoServelt (未用到，测试时使用)、TranslateServelt  (实现主体功能)三个servelt</li>
<li>一个DBoper类(数据库操作类)、Chinese_Frequent类（用来存储词频）以及一个Word类（用来存储单词）</li>
<li>一个Image文件夹(用来存放整个项目中用到的图片)</li>
<li>一个js文件夹（用来存放js文件）</li>
<li>一个video文件夹(用来存放动图、视频、音频)  组成。<br>整个的目录结构如下所示：<br><img src="https://img-blog.csdnimg.cn/20190831185755693.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODQ2ODA3Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><h3 id="2-2-2-介绍一下index-jsp文件内容"><a href="#2-2-2-介绍一下index-jsp文件内容" class="headerlink" title="2.2.2 介绍一下index.jsp文件内容"></a>2.2.2 介绍一下index.jsp文件内容</h3>这是程序运行后首先展示的界面，也是我们用户进行操作的主界面。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span> pageEncoding=<span class="string">"UTF-8"</span>%&gt;</span><br><span class="line">&lt;%@page <span class="keyword">import</span>=<span class="string">"java.lang.*,java.util.Enumeration"</span>%&gt;</span><br><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">"java.util.*"</span> %&gt;</span><br><span class="line"></span><br><span class="line">&lt;%@taglib prefix=<span class="string">"c"</span> uri=<span class="string">"http://java.sun.com/jsp/jstl/core"</span> %&gt;</span><br><span class="line"></span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">    &lt;title&gt;kingback首页&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">    &lt;link href="https:/</span><span class="regexp">/shared.ydstatic.com/im</span>ages/favicon.ico<span class="string">" type="</span>image/x-icon<span class="string">" rel="</span>shortcut icon<span class="string">"&gt;</span></span><br><span class="line"><span class="string">&lt;/head&gt;</span></span><br><span class="line"><span class="string">&lt;body&gt;</span></span><br><span class="line"><span class="string">&lt;div style="</span>text-align: center;<span class="string">"&gt;</span></span><br><span class="line"><span class="string">&lt;!-- gif --&gt;</span></span><br><span class="line"><span class="string">&lt;img src="</span>video/pkq.gif<span class="string">" width="</span><span class="number">320</span><span class="string">" height="</span><span class="number">240</span><span class="string">" alt="</span><span class="string">"&gt;</span></span><br><span class="line"><span class="string">&lt;!-- audio --&gt;</span></span><br><span class="line"><span class="string">&lt;audio src="</span>video/xs.mp3<span class="string">" controls="</span>controls<span class="string">"&gt;&lt;/audio&gt;</span></span><br><span class="line"><span class="string">&lt;!-- video --&gt;</span></span><br><span class="line"><span class="string">&lt;video width="</span><span class="number">320</span><span class="string">" height="</span><span class="number">240</span><span class="string">" controls&gt;</span></span><br><span class="line"><span class="string">    &lt;source src="</span>video/tf.mp4<span class="string">" type="</span>video/mp4<span class="string">"&gt;</span></span><br><span class="line"><span class="string">    &lt;source src="</span>video/tf.ogg<span class="string">" type="</span>video/ogg<span class="string">"&gt;</span></span><br><span class="line"><span class="string">    &lt;source src="</span>video/tf.webm<span class="string">" type="</span>video/webm<span class="string">"&gt;</span></span><br><span class="line"><span class="string">    &lt;object data="</span>video/tf.mp4<span class="string">" width="</span><span class="number">320</span><span class="string">" height="</span><span class="number">240</span><span class="string">"&gt;</span></span><br><span class="line"><span class="string">        &lt;embed src="</span>video/tf.swf<span class="string">" width="</span><span class="number">320</span><span class="string">" height="</span><span class="number">240</span><span class="string">"&gt;</span></span><br><span class="line"><span class="string">    &lt;/object&gt;</span></span><br><span class="line"><span class="string">&lt;/video&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;/div&gt;&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;div id="</span>margin1<span class="string">"&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;div id="</span>logo<span class="string">"&gt;</span></span><br><span class="line"><span class="string">    &lt;div class="</span>logo<span class="string">"&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;div id="</span>margin2<span class="string">"&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;form action="</span>search<span class="string">" method="</span>post<span class="string">"&gt;</span></span><br><span class="line"><span class="string">    &lt;div class="</span>border<span class="string">"&gt;</span></span><br><span class="line"><span class="string">        &lt;select name="</span>type<span class="string">" id="</span>selectType<span class="string">"&gt;</span></span><br><span class="line"><span class="string">            &lt;option value="</span>四级<span class="string">"&gt;四级&lt;/option&gt;</span></span><br><span class="line"><span class="string">            &lt;option value="</span>六级<span class="string">" selected id="</span>type<span class="string">"&gt;六级&lt;/option&gt;	//预选设置</span></span><br><span class="line"><span class="string">            &lt;option value="</span>汉译英<span class="string">" &gt;汉译英&lt;/option&gt;</span></span><br><span class="line"><span class="string">            &lt;option value="</span>英译汉<span class="string">" &gt;英译汉&lt;/option&gt;</span></span><br><span class="line"><span class="string">            &lt;option value="</span>统计<span class="string">"&gt;统计&lt;/option&gt;</span></span><br><span class="line"><span class="string">            &lt;option value="</span>字频<span class="string">"&gt;字频&lt;/option&gt;</span></span><br><span class="line"><span class="string">        &lt;/select&gt;</span></span><br><span class="line"><span class="string">        &lt;input type="</span>text<span class="string">" name="</span>inputWord<span class="string">" placeholder="</span>请输入单词<span class="string">" id="</span>translateContent<span class="string">" /&gt;</span></span><br><span class="line"><span class="string">        &lt;span id="</span>hnwBtn<span class="string">" class="</span>hand-write<span class="string">"&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;input type="</span>submit<span class="string">" value="</span>查 询<span class="string">" id="</span>btn<span class="string">"&gt;</span></span><br><span class="line"><span class="string">    &lt;input type="</span>reset<span class="string">" value="</span>重 置<span class="string">" id="</span>btn1<span class="string">"&gt;</span></span><br><span class="line"><span class="string">&lt;/form&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>$\qquad$很多人或许会想，前台用户输入的数据，后台是怎么获得的呢，因为jsp很好的嵌合了java以及servelt所以,在刚才的主界面中我们将需要传递给后台的数据放在这个 <strong>form</strong> 内，当用户点击查询按钮的时候，该动作就称之为 <strong>search</strong> ,并且将其中包括的内容传递给后台的 <strong>servelt</strong>。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;form action=&quot;search&quot; method=&quot;post&quot;&gt;</span><br><span class="line">......</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="2-2-4-介绍TranslateServelt-java"><a href="#2-2-4-介绍TranslateServelt-java" class="headerlink" title="2.2.4 介绍TranslateServelt.java"></a>2.2.4 介绍TranslateServelt.java</h3><p>$\qquad$接下来我就来讲一下，前台提交过来的action <strong>search</strong>是怎么和后台配对的。请注意看该java文件的开头的这句话<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@WebServlet(<span class="string">"/search"</span>)</span><br></pre></td></tr></table></figure><br>$\qquad$我们会发现前台提交的<strong>search</strong>动作通过这句话找到了与它配对的servelt,也就是说前台用户输入的数据已经成功传到后台来处理。 然后再在这个java文件中执行查询数据库的操作。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.jws.WebService;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Array;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created with IntelliJ IDEA.</span></span><br><span class="line"><span class="comment"> * User: kingback</span></span><br><span class="line"><span class="comment"> * Author:king@王延凯</span></span><br><span class="line"><span class="comment"> * Date: 2019/6/17</span></span><br><span class="line"><span class="comment"> * Time: 14:14</span></span><br><span class="line"><span class="comment"> * Description: No Description</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line">@WebServlet(<span class="string">"/search"</span>)</span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">TranslateServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="comment">//idea快速重写父类方法，使用快捷键ctrl+O选择需要重写的方法即可</span></span><br><span class="line">    @Override</span><br><span class="line">    protected <span class="keyword">void</span> doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line"><span class="comment">//        super.doPost(request, response);</span></span><br><span class="line">        <span class="comment">//设置编码格式</span></span><br><span class="line">        request.setCharacterEncoding(<span class="string">"utf-8"</span>);</span><br><span class="line">        response.setContentType(<span class="string">"text/html;charset = utf-8"</span>);</span><br><span class="line">        <span class="comment">//获取选择的类别</span></span><br><span class="line">        <span class="built_in">String</span> type=request.getParameter(<span class="string">"type"</span>);</span><br><span class="line">        <span class="comment">//获取用户输入的单词或汉字</span></span><br><span class="line">        <span class="built_in">String</span> inputWord=request.getParameter(<span class="string">"inputWord"</span>);</span><br><span class="line">        <span class="comment">//验证输出</span></span><br><span class="line">        <span class="comment">// System.out.println(inputWord);</span></span><br><span class="line">        <span class="comment">// System.out.println("当前选项为："+type);</span></span><br><span class="line">        <span class="comment">// System.out.println(type.equals("六级"));</span></span><br><span class="line">        <span class="comment">//根据不同的type选择不同的sql语句</span></span><br><span class="line">        <span class="comment">//汉译英,支持模糊搜索</span></span><br><span class="line">        <span class="built_in">String</span> sql=<span class="string">"select * from cet where chinese like "</span>+<span class="string">"'%"</span>+inputWord+<span class="string">"%'"</span>;</span><br><span class="line">        <span class="comment">//英译汉</span></span><br><span class="line">        <span class="built_in">String</span> sql1=<span class="string">"select * from cet where english="</span>+<span class="string">"'"</span>+inputWord+<span class="string">"'"</span>;</span><br><span class="line">        <span class="comment">//四级</span></span><br><span class="line">        <span class="built_in">String</span> CET_4=<span class="string">"select * from cet where level="</span>+<span class="string">"'4'"</span>;</span><br><span class="line">        <span class="comment">//六级</span></span><br><span class="line">        <span class="built_in">String</span> CET_6=<span class="string">"select * from cet where level="</span>+<span class="string">"'6'"</span>;</span><br><span class="line">        <span class="comment">//统计</span></span><br><span class="line">        <span class="built_in">String</span> count=<span class="string">""</span>;</span><br><span class="line">        <span class="comment">//字频</span></span><br><span class="line">        <span class="built_in">String</span> sql_frequent=<span class="string">"select * from chinese_word where pin like "</span>+<span class="string">"'"</span>+inputWord+<span class="string">"%'"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//初始化连接变量,用来存储数据</span></span><br><span class="line">        <span class="built_in">String</span> server=<span class="string">"localhost"</span>;</span><br><span class="line">        <span class="built_in">String</span> dbname=<span class="string">"words"</span>;</span><br><span class="line">        <span class="built_in">String</span> dbuser=<span class="string">"root"</span>;</span><br><span class="line">        <span class="built_in">String</span> dbpwd=<span class="string">"123456"</span>;</span><br><span class="line">        <span class="comment">//创建一个Word链表来承接数据库查询的数据</span></span><br><span class="line">        List&lt;Word&gt; wordList1=<span class="keyword">new</span> ArrayList();</span><br><span class="line">        <span class="comment">//创建一个Chinese_Frequent链表来承接数据查询的数据</span></span><br><span class="line">        List&lt;Chinese_Frequent&gt; wordList2=<span class="keyword">new</span> ArrayList();</span><br><span class="line">        <span class="comment">//实例化一个数据库连接类</span></span><br><span class="line">        DBoper dBoper=<span class="keyword">new</span> DBoper();</span><br><span class="line">        <span class="comment">//链接数据库</span></span><br><span class="line">        dBoper.getConn(server,dbname,dbuser,dbpwd);</span><br><span class="line">        <span class="comment">//初始化数据库结果参数</span></span><br><span class="line">        ResultSet rs = <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">//执行sql查询</span></span><br><span class="line">        <span class="keyword">if</span>(type.equals(<span class="string">"四级"</span>))&#123;</span><br><span class="line">            <span class="comment">// System.out.println("当前执行到四级！");</span></span><br><span class="line">            <span class="comment">//执行sql语句</span></span><br><span class="line">            rs=dBoper.executeQuery(CET_4,<span class="literal">null</span>);</span><br><span class="line">            <span class="comment">//调用DataDeal方法，开始对数据进行操作</span></span><br><span class="line">            DataDeal(rs,wordList1,request,response,dBoper);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(type.equals(<span class="string">"六级"</span>))&#123;</span><br><span class="line">            <span class="comment">// System.out.println("当前执行到六级！");</span></span><br><span class="line">            <span class="comment">//执行sql语句</span></span><br><span class="line">            rs=dBoper.executeQuery(CET_6,<span class="literal">null</span>);</span><br><span class="line">            <span class="comment">//开始对数据进行操作</span></span><br><span class="line">            DataDeal(rs,wordList1,request,response,dBoper);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(type.equals(<span class="string">"英译汉"</span>))&#123;</span><br><span class="line">            <span class="comment">//执行sql语句</span></span><br><span class="line">            rs=dBoper.executeQuery(sql1,<span class="literal">null</span>);</span><br><span class="line">            <span class="comment">//开始对数据进行操作</span></span><br><span class="line">            DataDeal(rs,wordList1,request,response,dBoper);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//汉译英处理函数</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(type.equals(<span class="string">"汉译英"</span>)) &#123;</span><br><span class="line">            <span class="comment">//执行sql语句</span></span><br><span class="line">            rs=dBoper.executeQuery(sql,<span class="literal">null</span>);</span><br><span class="line">            <span class="comment">//开始对数据进行操作</span></span><br><span class="line">            DataDeal(rs,wordList1,request,response,dBoper);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//统计处理函数</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(type.equals(<span class="string">"统计"</span>)) &#123;</span><br><span class="line">            <span class="comment">//开始对数据进行操作</span></span><br><span class="line"></span><br><span class="line">            Account(request,response,dBoper);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (type.equals(<span class="string">"字频"</span>))&#123;</span><br><span class="line">            rs=dBoper.executeQuery(sql_frequent,<span class="literal">null</span>);</span><br><span class="line">            System.out.println(sql_frequent);</span><br><span class="line">            Frequent(wordList2,dBoper,request,response,rs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected <span class="keyword">void</span> doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">        <span class="keyword">super</span>.doGet(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public <span class="keyword">static</span> <span class="keyword">void</span> DataDeal(ResultSet resultSet,List&lt;Word&gt; wordList1,HttpServletRequest request, HttpServletResponse response,DBoper dBoper)&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//将数据存入wordList1里边</span></span><br><span class="line">            <span class="keyword">while</span> (resultSet.next())&#123;</span><br><span class="line">                <span class="comment">//获取数据库中查询到的数据</span></span><br><span class="line">                <span class="built_in">String</span> type2=resultSet.getString(<span class="string">"english"</span>);</span><br><span class="line">                <span class="built_in">String</span> word2=resultSet.getString(<span class="string">"chinese"</span>);</span><br><span class="line">                <span class="built_in">String</span> sent2=resultSet.getString(<span class="string">"sent"</span>);</span><br><span class="line">                <span class="built_in">String</span> level2=resultSet.getString(<span class="string">"level"</span>);</span><br><span class="line">                Word word=<span class="keyword">new</span> Word(type2,word2,sent2,level2);</span><br><span class="line">                <span class="comment">//添加至wordList1列表</span></span><br><span class="line">                wordList1.add(word);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//调用数据库连接类的方法，关闭数据库连接</span></span><br><span class="line">            dBoper.closeAll();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//利用request将WordList传送到前端页面</span></span><br><span class="line">            <span class="keyword">if</span>(wordList1.size()==<span class="number">0</span>)&#123;</span><br><span class="line">                <span class="comment">//如果没有读取到数据，返回报错</span></span><br><span class="line">                response.sendRedirect(<span class="string">"success.jsp?error=yes"</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//使用request封装数据</span></span><br><span class="line">                request.setAttribute(<span class="string">"wordList"</span>, wordList1);</span><br><span class="line">                System.out.println(wordList1);</span><br><span class="line">                <span class="comment">//传送至前台jsp网页</span></span><br><span class="line">                request.getRequestDispatcher(<span class="string">"data.jsp"</span>).forward(request, response);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//异常处理</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ServletException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public <span class="keyword">static</span> <span class="keyword">void</span> Account(HttpServletRequest request, HttpServletResponse response,DBoper dBoper) &#123;</span><br><span class="line">        <span class="comment">//用来存储单词个数</span></span><br><span class="line">        int[] nums=<span class="keyword">new</span> int[<span class="number">26</span>];</span><br><span class="line">        <span class="built_in">String</span> character=<span class="string">"a.b.c.d.e.f.g.h.i.g.k.l.m.n.o.p.q.r.s.t.u.v.w.x.y.z"</span>;</span><br><span class="line">        <span class="comment">//拆分字符串</span></span><br><span class="line">        <span class="built_in">String</span> characters[] = character.split(<span class="string">" |\\."</span>);</span><br><span class="line">        ResultSet rs = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; <span class="number">26</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="built_in">String</span> sql=<span class="string">"select * from cet where english like "</span>+<span class="string">"'%"</span>+characters[i]+<span class="string">"%'"</span>;</span><br><span class="line"><span class="comment">//                System.out.println(sql);</span></span><br><span class="line">                rs=dBoper.executeQuery(sql,<span class="literal">null</span>);</span><br><span class="line">                <span class="comment">//将数据存入wordList1里边</span></span><br><span class="line">                <span class="keyword">while</span> (rs.next())&#123;</span><br><span class="line">                    nums[i]++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//调用数据库连接类的方法，关闭数据库连接</span></span><br><span class="line">        dBoper.closeAll();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//已经统计到数据</span></span><br><span class="line">        <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; <span class="number">26</span>; i++) &#123;</span><br><span class="line">            characters[i]=characters[i]+<span class="string">","</span>+nums[i];</span><br><span class="line"><span class="comment">//            System.out.println(nums[i]);</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//使用request封装数据</span></span><br><span class="line">            request.setAttribute(<span class="string">"nums"</span>, nums);</span><br><span class="line">            request.setAttribute(<span class="string">"characters"</span>, characters);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//System.out.println(nums);</span></span><br><span class="line">            <span class="comment">//传送至前台jsp网页</span></span><br><span class="line">            request.getRequestDispatcher(<span class="string">"pic.jsp"</span>).forward(request, response);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ServletException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public <span class="keyword">static</span> <span class="keyword">void</span> Frequent(List&lt;Chinese_Frequent&gt; wordList2,DBoper dBoper,HttpServletRequest request, HttpServletResponse response,ResultSet rs)&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">while</span> (rs.next()) &#123;</span><br><span class="line">                <span class="comment">//获取数据库中查询到的数据</span></span><br><span class="line">                <span class="built_in">String</span> chinese = rs.getString(<span class="string">"words"</span>);</span><br><span class="line">                <span class="built_in">String</span> counts = rs.getString(<span class="string">"counts"</span>);</span><br><span class="line">                <span class="built_in">String</span> pin = rs.getString(<span class="string">"pin"</span>);</span><br><span class="line">                Chinese_Frequent CF = <span class="keyword">new</span> Chinese_Frequent(chinese, counts, pin);</span><br><span class="line">                wordList2.add(CF);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//调用数据库连接类的方法，关闭数据库连接</span></span><br><span class="line">            dBoper.closeAll();</span><br><span class="line"></span><br><span class="line">                <span class="comment">//利用request将WordList传送到前端页面</span></span><br><span class="line">            <span class="keyword">if</span>(wordList2.size()==<span class="number">0</span>)&#123;</span><br><span class="line">                <span class="comment">//如果没有读取到数据，返回报错</span></span><br><span class="line">                response.sendRedirect(<span class="string">"success.jsp?error=yes"</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//使用request封装数据</span></span><br><span class="line">                request.setAttribute(<span class="string">"wordList2"</span>, wordList2);</span><br><span class="line">                System.out.println(wordList2);</span><br><span class="line">                <span class="comment">//传送至前台jsp网页</span></span><br><span class="line">                request.getRequestDispatcher(<span class="string">"chinese.jsp"</span>).forward(request, response);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ServletException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="2-2-5-后台数据返回前台"><a href="#2-2-5-后台数据返回前台" class="headerlink" title="2.2.5 后台数据返回前台"></a>2.2.5 后台数据返回前台</h3><p>$\qquad$执行完前边的步骤，我们或许会发现，虽然我们将数据传到了后台，并且进行了查询数据库等一系列操作，但是我们又如何将后台的数据传输到前台呢，这里我们需要注意一点就是，因为在这里可能会查询到很多结果，所以一条一条数据的往前台传显得不是那么显示，例如我们查询单词，每一个单词所涵盖的信息我们可以称之为一个<strong>Word 类</strong>实例化出来的对象，如果我们将这些一个一个的Word对象封装成一个集合<strong>WordList</strong>，传递给前台，那样岂不更容易一些呢。于是我们根据需要就构建了一个Word类，其代码如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Created with IntelliJ IDEA.</span><br><span class="line"> * User: kingback</span><br><span class="line"> * Author:king@王延凯</span><br><span class="line"> * Date: 2019/6/15</span><br><span class="line"> * Time: 14:14</span><br><span class="line"> * Description: No Description</span><br><span class="line"> */</span><br><span class="line">public class Word &#123;</span><br><span class="line">    public String getEnglish() &#123;</span><br><span class="line">        return english;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setEnglish(String english) &#123;</span><br><span class="line">        this.english = english;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getChinese() &#123;</span><br><span class="line">        return chinese;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setChinese(String chinese) &#123;</span><br><span class="line">        this.chinese = chinese;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getSent() &#123;</span><br><span class="line">        return sent;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setSent(String sent) &#123;</span><br><span class="line">        this.sent = sent;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getLevel() &#123;</span><br><span class="line">        return level;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setLevel(String level) &#123;</span><br><span class="line">        this.level = level;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //快捷键 Alt+Insert</span><br><span class="line">    //get set方法</span><br><span class="line"></span><br><span class="line">    private String english;</span><br><span class="line">    private String chinese;</span><br><span class="line">    private String sent;</span><br><span class="line">    private String level;</span><br><span class="line"></span><br><span class="line">    public Word(String english,String chinese,String sent,String level)&#123;</span><br><span class="line">    super();</span><br><span class="line">    this.english=english;</span><br><span class="line">    this.sent=sent;</span><br><span class="line">    this.chinese=chinese;</span><br><span class="line">    this.level=level;</span><br><span class="line">    &#125;</span><br><span class="line">    public Word()&#123;</span><br><span class="line">        super();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>$\qquad$接下来我们再来讨论将后台数据反传给前台的方法和策略，前边我们已经说到了封装为WordList，而前台又是怎么得到的呢，我们可以看到在前边讲到的 <strong>TranteServelt</strong> 里边的最后有这么几句代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用request封装数据</span></span><br><span class="line">      request.setAttribute(<span class="string">"wordList2"</span>, wordList2);</span><br><span class="line">      System.out.println(wordList2);</span><br><span class="line">      <span class="comment">//传送至前台jsp网页</span></span><br><span class="line">       request.getRequestDispatcher(<span class="string">"chinese.jsp"</span>).forward(request, response);</span><br></pre></td></tr></table></figure>
<p>$\qquad$到了这里我们似乎一切都明白了，如果当程序执行到这部分代码的时候，他就会将它之前封装好的<strong>wordList</strong>数据传递到<strong>chinese.jsp</strong>页面。</p>
<h3 id="2-2-6-前台接收后台的数据并处理，显示在前端页面。"><a href="#2-2-6-前台接收后台的数据并处理，显示在前端页面。" class="headerlink" title="2.2.6 前台接收后台的数据并处理，显示在前端页面。"></a>2.2.6 前台接收后台的数据并处理，显示在前端页面。</h3><p>$\qquad$在前边我们已经讲到了，传递到前台的<strong>WordLis</strong>t在对应的jsp界面里边是这样被识别并一个个拆解为Word的。下面我们就以<strong>chinese.jsp</strong>为例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: kingback</span><br><span class="line">  Date: 2019/8/4</span><br><span class="line">  Time: 22:20</span><br><span class="line">  To change this template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;</span><br><span class="line">&lt;%@taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;</span><br><span class="line">&lt;%@ taglib prefix=&quot;fn&quot; uri=&quot;http://java.sun.com/jsp/jstl/functions&quot;%&gt;</span><br><span class="line">&lt;%@ page isELIgnored=&quot;false&quot; %&gt;</span><br><span class="line"></span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;词频查询&lt;/title&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;link href=&quot;https://shared.ydstatic.com/images/favicon.ico&quot; type=&quot;image/x-icon&quot; rel=&quot;shortcut icon&quot;&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div id=&quot;margin1&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;logo&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;logo&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;margin2&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;form action=&quot;search&quot; method=&quot;post&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;border&quot;&gt;</span><br><span class="line">        &lt;select name=&quot;type&quot; id=&quot;selectType&quot;&gt;</span><br><span class="line">            &lt;option value=&quot;四级&quot;&gt;四级&lt;/option&gt;</span><br><span class="line">            &lt;option value=&quot;六级&quot; selected id=&quot;type&quot;&gt;六级&lt;/option&gt;	//预选设置</span><br><span class="line">            &lt;option value=&quot;汉译英&quot; &gt;汉译英&lt;/option&gt;</span><br><span class="line">            &lt;option value=&quot;英译汉&quot; &gt;英译汉&lt;/option&gt;</span><br><span class="line">            &lt;option value=&quot;统计&quot; &gt;统计&lt;/option&gt;</span><br><span class="line">            &lt;option value=&quot;字频&quot;&gt;字频&lt;/option&gt;</span><br><span class="line">        &lt;/select&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; name=&quot;inputWord&quot; placeholder=&quot;请输入单词或汉字&quot; id=&quot;translateContent&quot; /&gt;</span><br><span class="line">        &lt;span id=&quot;hnwBtn&quot; class=&quot;hand-write&quot;&gt;&lt;/span&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;input type=&quot;submit&quot; value=&quot;查 询&quot; id=&quot;btn&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;reset&quot; value=&quot;重 置&quot; id=&quot;btn1&quot;&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;table class=&quot;hovertable&quot;&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;th&gt;汉字&lt;/th&gt;</span><br><span class="line">        &lt;th&gt;个数&lt;/th&gt;</span><br><span class="line">        &lt;th&gt;拼音&lt;/th&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">    &lt;c:forEach items=&quot;$&#123;wordList2&#125;&quot; var=&quot;CH&quot;&gt;</span><br><span class="line">        &lt;form action=&quot;test1&quot; method=&quot;post&quot;&gt;</span><br><span class="line">            &lt;tr onmouseover=&quot;this.style.backgroundColor=&apos;#ffff66&apos;;&quot; onmouseout=&quot;this.style.backgroundColor=&apos;#d4e3e5&apos;;&quot;&gt;</span><br><span class="line">                &lt;td name=&quot;china&quot;&gt;&lt;c:out value=&quot;$&#123;CH.chinese&#125;&quot;/&gt;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;&lt;c:out value=&quot;$&#123;CH.counts&#125;&quot;/&gt;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;&lt;c:out value=&quot;$&#123;CH.pin&#125;&quot;/&gt;&lt;/td&gt;</span><br><span class="line">                &lt;%--&lt;td&gt;--%&gt;</span><br><span class="line">                    &lt;%--&lt;input type=&quot;submit&quot; value=&quot;修改&quot; id=&quot;btn2&quot; name=&quot;test&quot;&gt;--%&gt;</span><br><span class="line">                &lt;%--&lt;/td&gt;--%&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">        &lt;/form&gt;</span><br><span class="line">    &lt;/c:forEach&gt;</span><br><span class="line">&lt;/table&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><br>$\qquad$如果你观察仔细的话，或许会在以上代码的后半部分发现这句话：<strong><c:forEach items="${wordList2}" var="CH"></strong>，我们很容易就会想到我们是通过这句话来接收后台传过来的数据的，并将Wordlist拆解为一个个Word显示在页面。</p>
<h3 id="2-2-7-其它文件"><a href="#2-2-7-其它文件" class="headerlink" title="2.2.7 其它文件"></a>2.2.7 其它文件</h3><p>$\qquad$到目前为止，主体流程我已经走完了，只是含有几个文件没有展示出来，一个是数据库操作类DBoper(这个类在我之前发布的博客中是有的，都是一样的内容)、一个就是Chinese_Frequent.java ,其实该文件和Word的作用差不多，都是为了承接在数据库中查询到的结果，然后封装成List类型的传递给前台。<br>以下我展示的代码内容为 <strong>Chinese_Frequent.java</strong> 的。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Created with IntelliJ IDEA.</span><br><span class="line"> * User: kingback</span><br><span class="line"> * Author:king@王延凯</span><br><span class="line"> * Date: 2019/8/4</span><br><span class="line"> * Time: 22:53</span><br><span class="line"> * Description: No Description</span><br><span class="line"> */</span><br><span class="line">public class Chinese_Frequent &#123;</span><br><span class="line">    public String getChinese() &#123;</span><br><span class="line">        return Chinese;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setChinese(String chinese) &#123;</span><br><span class="line">        Chinese = chinese;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getCounts() &#123;</span><br><span class="line">        return Counts;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setCounts(String counts) &#123;</span><br><span class="line">        Counts = counts;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getPin() &#123;</span><br><span class="line">        return Pin;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setPin(String pin) &#123;</span><br><span class="line">        Pin = pin;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private String Chinese;</span><br><span class="line">    private String Counts;</span><br><span class="line">    private String Pin;</span><br><span class="line"></span><br><span class="line">    public Chinese_Frequent(String Chinese,String Counts,String Pin)&#123;</span><br><span class="line">        super();</span><br><span class="line">        this.Chinese=Chinese;</span><br><span class="line">        this.Counts=Counts;</span><br><span class="line">        this.Pin=Pin;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>$\qquad$至于还有几个jsp页面的代码没有展示出来，我这么告诉你吧，其实这几个jsp页面的代码基本上都是也一样的。但如果你非得要全部的代码的话，可以私聊我，当我看到，我定会免费赠送所有资料。</p>
<h1 id="3-运行结果"><a href="#3-运行结果" class="headerlink" title="3.运行结果"></a>3.运行结果</h1><p><img src="https://img-blog.csdnimg.cn/2019083120444126.gif#pic_center" alt="在这里插入图片描述"></p>

          
        
      
    </div>
	<div>
		
	</div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://kingback2019.github.io/2019/11/24/%E6%91%86%E8%84%B1%E9%99%90%E5%88%B6%E4%BA%94%E6%AD%A5%E8%B5%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kingback">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/isme.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="王延凯的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/24/%E6%91%86%E8%84%B1%E9%99%90%E5%88%B6%E4%BA%94%E6%AD%A5%E8%B5%B0/" itemprop="url">摆脱限制五步走</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-24T12:20:44+08:00">
                2019-11-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B7%A5%E5%85%B7%E7%B1%BB/" itemprop="url" rel="index">
                    <span itemprop="name">工具类</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-摆脱某雷，从此工作人员站起来了"><a href="#1-摆脱某雷，从此工作人员站起来了" class="headerlink" title="1.摆脱某雷，从此工作人员站起来了"></a>1.摆脱某雷，从此工作人员站起来了</h1><p>使用chrome插件IDM <a href="http://www.internetdownloadmanager.com/download.html" target="_blank" rel="noopener">点击此处进入下载</a>，然后再点击下载即可。<br><img src="https://img-blog.csdnimg.cn/20191007212030413.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODQ2ODA3Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>下载之后，直接点击安装即可，这个软件最好还是直接按照它的提示安装到C盘,否则则会在运行的时候报错。<br>之后关闭浏览器，再次打开浏览器即可添加成功。之后在每打开一个视频的时候，都会自动出现这个下载图标。如下所示：<img src="https://img-blog.csdnimg.cn/20191007214414368.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODQ2ODA3Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>点击图标，就会出现让你选择要下载的视频分辨率：<br><img src="https://img-blog.csdnimg.cn/20191007214618724.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODQ2ODA3Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>可以看到速度还是很快的：<br><img src="https://img-blog.csdnimg.cn/20191007221515885.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODQ2ODA3Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h1 id="2-摆脱某盘，从此开发人员富起来了"><a href="#2-摆脱某盘，从此开发人员富起来了" class="headerlink" title="2.摆脱某盘，从此开发人员富起来了"></a>2.摆脱某盘，从此开发人员富起来了</h1><p>接下来要介绍的一个就是大名鼎鼎的<strong>pandownload</strong>了，<a href="http://pandownload.com/" target="_blank" rel="noopener">其下载链接</a>，这个版本已经包括了手机、电脑各个版本，已经非常顺手了。<br>该软件实现了多账号登陆以及无限速，甚至内部还集成了16路的内部加速器。总之体验感超棒。<br>接下来就要介绍一下其使用流程了：在使用过程中如果下载的文件为现在以登录账号的，则就需要注意：<br><strong>先把文件分享出来，再使用分享链接下载即可</strong>，<br><strong>先把文件分享出来，再使用分享链接下载即可</strong>，<br><strong>先把文件分享出来，再使用分享链接下载即可</strong>。<br>重要的事情说三遍。<br>然后你就可以尽情享受了。<br><img src="https://img-blog.csdnimg.cn/20191007215625509.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODQ2ODA3Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>以下附上演示：<br><img src="https://img-blog.csdnimg.cn/20191007215901630.gif#pic_center" alt="在这里插入图片描述"></p>
<h1 id="3-摆脱Great-FireWall，从此开发人员墙起来了"><a href="#3-摆脱Great-FireWall，从此开发人员墙起来了" class="headerlink" title="3.摆脱Great FireWall，从此开发人员墙起来了"></a>3.摆脱Great FireWall，从此开发人员墙起来了</h1><h2 id="方式1：-几鸡—学习助理"><a href="#方式1：-几鸡—学习助理" class="headerlink" title="方式1： 几鸡—学习助理"></a>方式1： 几鸡—学习助理</h2><p>食用方法：</p>
<blockquote>
<p>Step 1.浏览器搜索几鸡，出现如下界面</p>
<p><img src="C:\Users\kingback\AppData\Roaming\Typora\typora-user-images\1578048501852.png" alt="1578048501852" style="zoom:67%;" /></p>
<p>Step 2.注册账号，其注册网址如下：<a href="https://ssr.dt233.cn/" target="_blank" rel="noopener">几鸡机场注册</a></p>
<p>Step 3.其界面如下所示:</p>
<p><img src="C:\Users\kingback\AppData\Roaming\Typora\typora-user-images\1578050342603.png" alt="1578050342603" style="zoom: 50%;" /></p>
<p>Step 4.具体流程可以参看这篇文章，<a href="https://dt233.cn/?post=68" target="_blank" rel="noopener">地址戳我</a></p>
</blockquote>
<h2 id="方式2：-github科学上网"><a href="#方式2：-github科学上网" class="headerlink" title="方式2： github科学上网"></a>方式2： github科学上网</h2><p>食用方法：</p>
<blockquote>
<p>Step 1.浏览器打开如下网址：<a href="https://github.com/" target="_blank" rel="noopener">github官网</a></p>
<p>Step 2.在搜索框输入  “科学上网”  字样，点击搜索即可，如下所示</p>
<p><img src="C:\Users\kingback\AppData\Roaming\Typora\typora-user-images\1578041626229.png" alt="1578041626229" style="zoom: 50%;" /></p>
<p>Step 3.选取一个标星最多的，例如上边所示的，点进这个开源项目即可。</p>
<p>Step 4.翻到项目的下边，找到如下字样</p>
<p><img src="C:\Users\kingback\AppData\Roaming\Typora\typora-user-images\1578041936666.png" alt="1578041936666" style="zoom: 67%;" /></p>
<p>Step 5.点进去即可查到另一个新世界了，里边有详细的教程，如下所示：</p>
<p><img src="C:\Users\kingback\AppData\Roaming\Typora\typora-user-images\1578042047374.png" alt="1578042047374" style="zoom:67%;" /></p>
</blockquote>
<h1 id="4-云盘精灵（网盘文件搜索）—飞起来了"><a href="#4-云盘精灵（网盘文件搜索）—飞起来了" class="headerlink" title="4.云盘精灵（网盘文件搜索）—飞起来了"></a>4.云盘精灵（网盘文件搜索）—飞起来了</h1><p>其官方网址：<a href="https://www.yunpanjingling.com/" target="_blank" rel="noopener">点击链入</a><br>操作很简单，注册个账号，然后在里边输入需要的文件即可。<br><img src="https://img-blog.csdnimg.cn/20191007220705173.gif#pic_center" alt="在这里插入图片描述"></p>
<h1 id="5-摆脱百度文库下载限制"><a href="#5-摆脱百度文库下载限制" class="headerlink" title="5.摆脱百度文库下载限制"></a>5.摆脱百度文库下载限制</h1><p>在下载框输入下载网页即可完成下载。其下载器的下载我已保存至网盘，直接使用即可。<br>其连接如下：<br>链接：<a href="https://pan.baidu.com/s/1YpSNfoLDf2RuADl4z4BYyg" target="_blank" rel="noopener">https://pan.baidu.com/s/1YpSNfoLDf2RuADl4z4BYyg</a><br>提取码：qvhy </p>
<p><img src="https://img-blog.csdnimg.cn/20191123172348282.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODQ2ODA3Nw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>

          
        
      
    </div>
	<div>
		
	</div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://kingback2019.github.io/2019/11/19/%E6%95%B0%E5%AD%97%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86matlab%E8%AE%AD%E7%BB%83%E7%AC%AC%E3%80%902%E3%80%91%E5%BC%B9--%E7%A6%BB%E6%95%A3%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E7%9A%84%E5%82%85%E9%87%8C%E5%8F%B6%E5%8F%98%E6%8D%A2%EF%BC%88DTFT%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kingback">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/isme.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="王延凯的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/19/%E6%95%B0%E5%AD%97%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86matlab%E8%AE%AD%E7%BB%83%E7%AC%AC%E3%80%902%E3%80%91%E5%BC%B9--%E7%A6%BB%E6%95%A3%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E7%9A%84%E5%82%85%E9%87%8C%E5%8F%B6%E5%8F%98%E6%8D%A2%EF%BC%88DTFT%EF%BC%89/" itemprop="url">数字信号处理matlab训练第【2】弹</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-19T11:57:14+08:00">
                2019-11-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E5%AD%97%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86/" itemprop="url" rel="index">
                    <span itemprop="name">数字信号处理</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-实验要求"><a href="#1-实验要求" class="headerlink" title="1.实验要求"></a>1.实验要求</h1><p>已知函数$x(t)=sinc(t)，-2\pi \leq t \leq2\pi$,求其时域抽样函数$x(n)$,并且画出$x(n)$的离散时间序列的傅里叶变换(DTFT)下的幅频响应和相频响应。最后根据所画图形，得出结论。</p>
<h1 id="2-实现原理"><a href="#2-实现原理" class="headerlink" title="2.实现原理"></a>2.实现原理</h1><p>根据离散序列的傅里叶变换公式：</p>
<script type="math/tex; mode=display">
X(e^{j\omega})=\sum_{n=-\infty}^{\infty}x(n)e^{-j\omega n}</script><p>其中$\omega \in[-2\pi,2\pi]$,并以$\pi/100$作为取样间隔。</p>
<h1 id="3-matlab实现"><a href="#3-matlab实现" class="headerlink" title="3.matlab实现"></a>3.matlab实现</h1><p>我们依据对上边的式子的理解，使用matlab来编写，首先我们先画出该函数的原始图像，第二个图显示的是其抽样图像，第三个第四个分别为其DTFT变换后的幅频特性图和相频特性图。<br><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%%开始实现离散时间序列DTFT，以sinc函数为例。</span></span><br><span class="line">clc;</span><br><span class="line">clear;</span><br><span class="line"><span class="comment">%清除指令和变量</span></span><br><span class="line">set(gcf,<span class="string">'position'</span>,[<span class="number">180</span>,<span class="number">160</span>,<span class="number">900</span>,<span class="number">550</span>]);</span><br><span class="line"><span class="comment">%设置图片显示位置为（180，160）</span></span><br><span class="line"><span class="comment">%设置图片大小为（900，550）</span></span><br><span class="line">subplot(<span class="number">221</span>)</span><br><span class="line">N1=<span class="number">200</span>;</span><br><span class="line">step=<span class="number">4</span>*<span class="built_in">pi</span>/N1;</span><br><span class="line">t=<span class="number">-2</span>*<span class="built_in">pi</span>:step:<span class="number">2</span>*<span class="built_in">pi</span>;</span><br><span class="line"><span class="comment">%对t在-2pi到2pi之间平分为100份</span></span><br><span class="line">y=sinc(t);</span><br><span class="line"><span class="built_in">plot</span>(t,y)</span><br><span class="line"><span class="comment">%定义函数并且画出sinc函数</span></span><br><span class="line">grid on;</span><br><span class="line"><span class="comment">%显示表格</span></span><br><span class="line">title(<span class="string">'sinc(t)在-2\pi到2\pi之间的图像'</span>);</span><br><span class="line">xlabel(<span class="string">'t'</span>);</span><br><span class="line">ylabel(<span class="string">'y(t)'</span>);</span><br><span class="line">axis([<span class="number">-7</span> <span class="number">7</span> <span class="number">-0.3</span> <span class="number">1.2</span>])</span><br><span class="line"><span class="comment">%设置横纵坐标轴</span></span><br><span class="line"></span><br><span class="line">subplot(<span class="number">222</span>)</span><br><span class="line">ts=<span class="number">0.1</span>;<span class="comment">%取样时间</span></span><br><span class="line">fs=<span class="number">1</span>/ts;<span class="comment">%周期</span></span><br><span class="line">N2=<span class="number">31</span>;<span class="comment">%取样总数</span></span><br><span class="line">n=<span class="number">-15</span>:<span class="number">15</span>;</span><br><span class="line">xn=sinc(<span class="number">4</span>*<span class="built_in">pi</span>*n/N2);<span class="comment">%取离散信号数据</span></span><br><span class="line">stem(n,xn,<span class="string">'filled'</span>,<span class="string">'r'</span>);<span class="comment">%绘制时域取样图</span></span><br><span class="line">grid on;</span><br><span class="line"><span class="comment">%显示方格</span></span><br><span class="line">title(<span class="string">'sinc(t)在-2\pi到2\pi之间的抽样'</span>);</span><br><span class="line">xlabel(<span class="string">'n'</span>);</span><br><span class="line">ylabel(<span class="string">'sinc(n)'</span>);</span><br><span class="line">axis([<span class="number">-16</span> <span class="number">16</span> <span class="number">-0.4</span> <span class="number">1.5</span>])</span><br><span class="line"><span class="comment">%设置横纵坐标轴</span></span><br><span class="line"></span><br><span class="line">subplot(<span class="number">223</span>)</span><br><span class="line">k=<span class="number">-200</span>:<span class="number">200</span>;</span><br><span class="line">w=(<span class="built_in">pi</span>/<span class="number">100</span>)*k;<span class="comment">%其原始式子为w=(4*pi)*k/400</span></span><br><span class="line"><span class="comment">%将w针对不同的k的取值，区间变为[-2*pi,2*pi]</span></span><br><span class="line">wn=<span class="built_in">exp</span>(-<span class="built_in">j</span>*<span class="built_in">pi</span>/<span class="number">100</span>);</span><br><span class="line"><span class="comment">%得到公式中的 e的-j*omiga, 该量是个常数</span></span><br><span class="line">nk=n'*k;</span><br><span class="line"><span class="comment">%n的转置与k相乘</span></span><br><span class="line"><span class="comment">%nk为取样矩阵，相当于先是循环n次再是循环k次得到</span></span><br><span class="line">xk=wn.^nk;</span><br><span class="line"><span class="comment">%得到公式中的复变量e的-j*omiga*n</span></span><br><span class="line">X=xn*xk;</span><br><span class="line"><span class="comment">%得到离散序列的傅里叶变换</span></span><br><span class="line">magX=<span class="built_in">abs</span>(X);</span><br><span class="line"><span class="comment">%求取该DTFT的模，其作用相当于|X|</span></span><br><span class="line"><span class="built_in">plot</span>(w,magX,<span class="string">'g'</span>)</span><br><span class="line"><span class="comment">%在频率[-2pi,2pi]范围内画出幅频响应</span></span><br><span class="line">axis([<span class="number">-2</span>*<span class="built_in">pi</span> <span class="number">2</span>*<span class="built_in">pi</span> <span class="number">0</span> <span class="number">3</span>])</span><br><span class="line">title(<span class="string">'幅频特性'</span>);</span><br><span class="line">xlabel(<span class="string">'w/圆周频率'</span>);</span><br><span class="line">ylabel(<span class="string">'|X|'</span>);</span><br><span class="line"><span class="comment">%设置横纵坐标轴</span></span><br><span class="line"></span><br><span class="line">subplot(<span class="number">224</span>)</span><br><span class="line">angX=<span class="built_in">angle</span>(X);</span><br><span class="line"><span class="comment">%求取该DTFT的相位</span></span><br><span class="line"><span class="built_in">plot</span>(w,angX)</span><br><span class="line"><span class="comment">%在频率[-2pi,2pi]范围内画出相频响应</span></span><br><span class="line">title(<span class="string">'相频特性'</span>);</span><br><span class="line">xlabel(<span class="string">'w/圆周频率'</span>);</span><br><span class="line">ylabel(<span class="string">'相位'</span>);</span><br><span class="line">axis([<span class="number">-2</span>*<span class="built_in">pi</span> <span class="number">2</span>*<span class="built_in">pi</span> <span class="number">-4</span> <span class="number">4</span>])</span><br><span class="line"><span class="comment">%设置横纵坐标轴</span></span><br></pre></td></tr></table></figure></p>
<h1 id="4-结果显示"><a href="#4-结果显示" class="headerlink" title="4.结果显示"></a>4.结果显示</h1><p><img src="https://img-blog.csdnimg.cn/201910061609077.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODQ2ODA3Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h1 id="5-小结"><a href="#5-小结" class="headerlink" title="5.小结"></a>5.小结</h1><p>通过上边显示的图片我们可以看到并总结出如下结论。<br><strong>1.$X(e^{j\omega})$不仅是$\omega$的周期函数，而且是共轭对称的，因此对于实值序列，我们只画出其$[0,2\pi]$,画出其傅里叶变换的幅度和相位即可。<br>2.$x(n)$为在时域方面是离散的非周期信号，而通过DTFT变换之后，在频域方面是连续周期的。</strong></p>
<h1 id="6-参考文章"><a href="#6-参考文章" class="headerlink" title="6.参考文章"></a>6.参考文章</h1><blockquote>
<p>傅里叶变换matlab实现： <a href="https://blog.csdn.net/seek97/article/details/82813515" target="_blank" rel="noopener">https://blog.csdn.net/seek97/article/details/82813515</a></p>
</blockquote>

          
        
      
    </div>
	<div>
		
	</div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://kingback2019.github.io/2019/11/19/%E6%95%B0%E5%AD%97%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86matlab%E8%AE%AD%E7%BB%83%E7%AC%AC%E3%80%901%E3%80%91%E5%BC%B9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kingback">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/isme.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="王延凯的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/19/%E6%95%B0%E5%AD%97%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86matlab%E8%AE%AD%E7%BB%83%E7%AC%AC%E3%80%901%E3%80%91%E5%BC%B9/" itemprop="url">数字信号处理matlab训练第【1弹】</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-19T11:57:13+08:00">
                2019-11-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E5%AD%97%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86/" itemprop="url" rel="index">
                    <span itemprop="name">数字信号处理</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-产生一个均匀分布的白噪声信号u-n-画出波形，并检验其分布"><a href="#1-产生一个均匀分布的白噪声信号u-n-画出波形，并检验其分布" class="headerlink" title="# 1.产生一个均匀分布的白噪声信号u(n),画出波形，并检验其分布"></a># 1.产生一个均匀分布的白噪声信号u(n),画出波形，并检验其分布</h1><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%使用rand函数产生均值为0.5，幅度在0-1之间的均匀分布的伪随机数</span></span><br><span class="line"><span class="comment">%以下将会调用rand函数产生一个均匀分布的白噪声信号</span></span><br><span class="line">clear;</span><br><span class="line">clc;</span><br><span class="line">N=<span class="number">5000</span>;<span class="comment">%长序列u(n)的长度</span></span><br><span class="line">u=<span class="built_in">rand</span>(<span class="number">1</span>,N);<span class="comment">%产生N个均与分布的伪随机数u(n)</span></span><br><span class="line">u_mean=<span class="built_in">mean</span>(u)<span class="comment">%求取u(n)的均值</span></span><br><span class="line">u_power=var(u)<span class="comment">%求取u(n)的方差</span></span><br><span class="line">subplot(<span class="number">211</span>);<span class="comment">%两行一列第1个图</span></span><br><span class="line"><span class="built_in">plot</span>(u(<span class="number">1</span>:<span class="number">100</span>));<span class="comment">%选取u(n)序列的前100个数据点</span></span><br><span class="line">grid on;<span class="comment">%显示方格</span></span><br><span class="line">ylabel(<span class="string">'u(n)'</span>);</span><br><span class="line">xlabel(<span class="string">'n'</span>)</span><br><span class="line">title(<span class="string">'1-100的u(n)数值显示'</span>)</span><br><span class="line"><span class="comment">%显示标题</span></span><br><span class="line">subplot(<span class="number">212</span>);<span class="comment">%两行一列第2个图</span></span><br><span class="line">hist(u,<span class="number">50</span>);grid on;</span><br><span class="line"><span class="comment">%对u(n)作直方图，检验其分布。50是对u(n)的取值范围（0-1）所分解的细胞数</span></span><br><span class="line">xlabel(<span class="string">'u(n)'</span>);</span><br><span class="line">ylabel(<span class="string">'个数'</span>);</span><br><span class="line">title(<span class="string">'u(n)的直方图'</span>)</span><br><span class="line"><span class="comment">%显示标题</span></span><br></pre></td></tr></table></figure>
<p>在上边的程序中我们可以看出，所求的白噪声$u(n)$的长度特别大(N=5000),在实际中，我们可能不需要这么大，之所以取这么大是希望当u(n)序列足够长时更接近于白噪声接近于均匀分布。我们可以根据自己需要选取自己喜欢的任何一段即可。<br>其结果如下所示：<br><img src="https://img-blog.csdnimg.cn/20191005135804986.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODQ2ODA3Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>在上边的运行结果我们也可以得到该随机序列的均值(u_mean)和方差(u_power).<br><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">u_mean =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.5005</span></span><br><span class="line"></span><br><span class="line">u_power =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.0836</span></span><br></pre></td></tr></table></figure><br>我们可以看到，产生的u(n)的均值为0.5，方差为0.0836（1/12）.</p>
<h1 id="2-产生一均匀分布、均值为0、功率为0-01的白噪声信号"><a href="#2-产生一均匀分布、均值为0、功率为0-01的白噪声信号" class="headerlink" title="2.产生一均匀分布、均值为0、功率为0.01的白噪声信号"></a>2.产生一均匀分布、均值为0、功率为0.01的白噪声信号</h1><p>在上边的例子中我们使用rand函数产生的u(n)为均值为0.5，功率$P_1=\frac{1}{12}$，现在需要将均值变为0、功率变为$P_2=\frac{1}{100}$。实现前者比较容易，只需将u(n)减去均值即可，而实现后者则需要调整u(n)的幅度。根据已知，我们可以得到以下公式：</p>
<script type="math/tex; mode=display">
\frac{P_2}{P_1}=\frac{\frac{1}{100}}{\frac{1}{12}}=\frac{\sum_{i=0}^{N}(a_{2i})^2}{\sum_{i=0}^{N}(a_{1i})^2}=12P_2</script><p>由于我们要实现的就是对于幅度的调整，来实现改变其方差，所以我们令以下等式成立$a_{2i}=a\cdot a_{1i}$ ,其中常数$a$就是我们所要求的一个比例因子。</p>
<script type="math/tex; mode=display">
\frac{\sum_{i=0}^{N}(a_{2i})^2}{\sum_{i=0}^{N}(a_{1i})^2}=\frac{\sum_{i=0}^{N}(a\cdot a_{1i})^2}{\sum_{i=0}^{N}(a_{1i})^2}\\ \quad
\\=\frac{(a\cdot a_{10})^2+(a\cdot a_{11})^2+...+(a\cdot a_{1N})^2}{a_{10}^2+a_{11}^2+...+a_{1N}^2}\\ \quad
\\=\frac{a^2\cdot(a_{10}^2+a_{11}^2+...+a_{1N}^2)}{a_{10}^2+a_{11}^2+...+a_{1N}^2}=\quad a^2\quad=12P_2</script><p>由上式的推导我们可以得出$a=\sqrt{12P_2}$,其中$P_2$的数值我们已知。<br>根据上边的推导，我们在matlab中敲下代码如下：<br><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%%产生一个均匀分布、均值为0、功率为0.01的白噪声信号u(n)</span></span><br><span class="line">clc;</span><br><span class="line">clear;</span><br><span class="line">N=<span class="number">50000</span>;</span><br><span class="line"><span class="comment">%长序列u(n)的长度</span></span><br><span class="line">p_1=<span class="number">0.083</span>;</span><br><span class="line">p_2=<span class="number">0.01</span>;</span><br><span class="line"><span class="comment">%转换前的功率和所需要的功率</span></span><br><span class="line">u=<span class="built_in">rand</span>(<span class="number">1</span>,N);</span><br><span class="line"><span class="comment">%产生5000个0-1的伪随机数</span></span><br><span class="line">u=u-<span class="built_in">mean</span>(u);</span><br><span class="line"><span class="comment">%此处实现将均值置为0</span></span><br><span class="line">a=<span class="built_in">sqrt</span>(<span class="number">12</span>*p_2)</span><br><span class="line"><span class="comment">%求取常数比例因子</span></span><br><span class="line">u1=u*a;</span><br><span class="line"><span class="comment">%对序列的幅度进行调整</span></span><br><span class="line">u1_power=var(u1)</span><br><span class="line"><span class="comment">%求取该序列的方差</span></span><br><span class="line"><span class="built_in">plot</span>(u1(<span class="number">1</span>:<span class="number">100</span>));</span><br><span class="line"><span class="comment">%选取u(n)序列的前100个数据点</span></span><br><span class="line">grid on;</span><br><span class="line"><span class="comment">%显示网格</span></span><br><span class="line">xlabel(<span class="string">'n'</span>)</span><br><span class="line">ylabel(<span class="string">'u1(n)'</span>)</span><br><span class="line">title(<span class="string">'1-100的u1(n)数值显示'</span>)</span><br><span class="line"><span class="comment">%坐标轴设置</span></span><br></pre></td></tr></table></figure><br>运行之后，我们可以在输出行得到该序列的均值和功率以及需要求取的比例因子a：<br><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">a =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.3464</span></span><br><span class="line"></span><br><span class="line">u1_power =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.0100</span></span><br><span class="line"></span><br><span class="line">u1_mean =</span><br><span class="line"></span><br><span class="line">  <span class="number">-2.3466e-15</span></span><br></pre></td></tr></table></figure><br>其运行结果如下所示：<br><img src="https://img-blog.csdnimg.cn/20191005162012833.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODQ2ODA3Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>通过上边的显示结果，我们可以看出，显然该序列的均值为0，幅度范围在-0.1733-0.1733之间。到此我们已经实现了我们的需求。</p>
<h1 id="3-产生均值为0，方差为1，服从高斯（正态）分布的高斯白噪声-u-n-及其位移和尺度变换"><a href="#3-产生均值为0，方差为1，服从高斯（正态）分布的高斯白噪声-u-n-及其位移和尺度变换" class="headerlink" title="3.产生均值为0，方差为1，服从高斯（正态）分布的高斯白噪声$u(n)$及其位移和尺度变换"></a>3.产生均值为0，方差为1，服从高斯（正态）分布的高斯白噪声$u(n)$及其位移和尺度变换</h1><p>在matlab中我们一般使用randn函数来产生该函数，其调用格式与rand格式相同，改变功率的方法也相同，只不过我们只需要将式子改为$a=\sqrt{1\cdot(P_2)}$即可。<br><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%%产生均值为0，方差为1，服从高斯分布的白噪声信号u(n)</span></span><br><span class="line">clc;</span><br><span class="line">clear;</span><br><span class="line">N=<span class="number">50000</span>;</span><br><span class="line">u=<span class="built_in">randn</span>(<span class="number">1</span>,N);</span><br><span class="line"><span class="comment">%产生50000个满足均值为0，方差为1，服从正态分布的白噪声信号u(n)</span></span><br><span class="line">u_mean=<span class="built_in">mean</span>(u)</span><br><span class="line">u_power=var(u)</span><br><span class="line"><span class="comment">%输出其均值和方差</span></span><br><span class="line">set(gcf,<span class="string">'position'</span>,[<span class="number">180</span>,<span class="number">160</span>,<span class="number">800</span>,<span class="number">500</span>]);</span><br><span class="line"><span class="comment">%设置图片显示位置为（180，160）</span></span><br><span class="line"><span class="comment">%设置图片大小为（800，500）</span></span><br><span class="line">subplot(<span class="number">221</span>)</span><br><span class="line"><span class="built_in">plot</span>(u(<span class="number">1</span>:<span class="number">100</span>));</span><br><span class="line"><span class="comment">%选取u(n)序列的前100个数据点</span></span><br><span class="line">grid on;</span><br><span class="line"><span class="comment">%显示网格</span></span><br><span class="line">xlabel(<span class="string">'n'</span>);</span><br><span class="line">ylabel(<span class="string">'u(n)'</span>);</span><br><span class="line">title(<span class="string">'1-100的u(n)数值显示'</span>);</span><br><span class="line"><span class="comment">%坐标轴设置</span></span><br><span class="line">subplot(<span class="number">222</span>);</span><br><span class="line">hist(u,<span class="number">50</span>);grid on;</span><br><span class="line"><span class="comment">%对u2(n)作直方图，检验其分布。50是对u2(n)的取值范围（0-1）所分解的细胞数</span></span><br><span class="line">h=findobj(gca,<span class="string">'Type'</span>,<span class="string">'patch'</span>);</span><br><span class="line">set(h,<span class="string">'facecolor'</span>,<span class="string">'b'</span>);</span><br><span class="line"><span class="comment">%改变柱状图颜色</span></span><br><span class="line"><span class="comment">%显示网格</span></span><br><span class="line">xlabel(<span class="string">'u(n)'</span>);</span><br><span class="line">ylabel(<span class="string">'个数'</span>);</span><br><span class="line">title(<span class="string">'u(n)的直方图,均值为0，方差为1'</span>);</span><br><span class="line"><span class="comment">%坐标轴设置</span></span><br><span class="line">subplot(<span class="number">223</span>)</span><br><span class="line">p_2=<span class="number">0.1</span>;</span><br><span class="line"><span class="comment">%为新需要得到的方差赋值</span></span><br><span class="line">a=<span class="built_in">sqrt</span>(p_2);</span><br><span class="line"><span class="comment">%求取缩放因子a</span></span><br><span class="line">u1=a*u;</span><br><span class="line"><span class="comment">%得到功率(方差)为0.1的序列u1</span></span><br><span class="line">hist(u1,<span class="number">50</span>);grid on;</span><br><span class="line"><span class="comment">%对u1(n)作直方图，检验其分布。50是对u1(n)的取值范围（0-1）所分解的细胞数</span></span><br><span class="line"><span class="comment">%显示网格</span></span><br><span class="line">u1_mean=<span class="built_in">mean</span>(u)</span><br><span class="line">u1_power=var(u)</span><br><span class="line"><span class="comment">%输出其均值和方差</span></span><br><span class="line">h=findobj(gca,<span class="string">'Type'</span>,<span class="string">'patch'</span>);</span><br><span class="line">set(h,<span class="string">'facecolor'</span>,<span class="string">'r'</span>);</span><br><span class="line"><span class="comment">%改变柱状图颜色</span></span><br><span class="line">axis([<span class="number">-4</span>,<span class="number">6</span>,<span class="number">0</span>,<span class="number">4000</span>])</span><br><span class="line"><span class="comment">%设置坐标轴显示范围</span></span><br><span class="line">xlabel(<span class="string">'u1(n)'</span>);</span><br><span class="line">ylabel(<span class="string">'个数'</span>);</span><br><span class="line">title(<span class="string">'u1(n)的直方图,均值为0，方差为0.1'</span>);</span><br><span class="line"><span class="comment">%坐标轴设置</span></span><br><span class="line">subplot(<span class="number">224</span>)</span><br><span class="line">u2=<span class="number">3</span>+u;</span><br><span class="line"><span class="comment">%设置均值为3</span></span><br><span class="line">hist(u2,<span class="number">50</span>);grid on;</span><br><span class="line"><span class="comment">%对u2(n)作直方图，检验其分布。50是对u2(n)的取值范围（0-1）所分解的细胞数</span></span><br><span class="line"><span class="comment">%显示网格</span></span><br><span class="line">u2_mean=<span class="built_in">mean</span>(u)</span><br><span class="line">u2_power=var(u)</span><br><span class="line"><span class="comment">%输出其均值和方差</span></span><br><span class="line">h=findobj(gca,<span class="string">'Type'</span>,<span class="string">'patch'</span>);</span><br><span class="line">set(h,<span class="string">'facecolor'</span>,<span class="string">'r'</span>);</span><br><span class="line"><span class="comment">%改变柱状图颜色</span></span><br><span class="line">axis([<span class="number">-4</span>,<span class="number">6</span>,<span class="number">0</span>,<span class="number">4000</span>])</span><br><span class="line"><span class="comment">%设置坐标轴显示范围</span></span><br><span class="line">xlabel(<span class="string">'u2(n)'</span>);</span><br><span class="line">ylabel(<span class="string">'个数'</span>);</span><br><span class="line">title(<span class="string">'u2(n)的直方图,均值为3，方差为1'</span>);</span><br><span class="line"><span class="comment">%坐标轴设置</span></span><br></pre></td></tr></table></figure><br>在我们执行完以上程序后，我们则将会得到以下图示：<br><img src="https://img-blog.csdnimg.cn/201910051734000.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODQ2ODA3Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>另外在执行结束之后，我们也可以在输出行看到我们的各个数据的值<br><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">u_mean =</span><br><span class="line"></span><br><span class="line">   <span class="number">-0.0010</span></span><br><span class="line"></span><br><span class="line">u_power =</span><br><span class="line"></span><br><span class="line">    <span class="number">1.0034</span></span><br><span class="line"></span><br><span class="line">u1_mean =</span><br><span class="line"></span><br><span class="line">  <span class="number">-3.2553e-04</span></span><br><span class="line"></span><br><span class="line">u1_power =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.1003</span></span><br><span class="line"></span><br><span class="line">u2_mean =</span><br><span class="line"></span><br><span class="line">    <span class="number">2.9990</span></span><br><span class="line"></span><br><span class="line">u2_power =</span><br><span class="line"></span><br><span class="line">    <span class="number">1.0034</span></span><br></pre></td></tr></table></figure><br>我们也可以看到，以上各个数值均是我们所需求的那样。</p>

          
        
      
    </div>
	<div>
		
	</div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/">&lt;i class=&quot;fa fa-angle-left&quot;&gt;&lt;&#x2F;i&gt;</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/">&lt;i class=&quot;fa fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/isme.jpeg"
                alt="kingback" />
            
              <p class="site-author-name" itemprop="name">kingback</p>
              <p class="site-description motion-element" itemprop="description">昆明理工大学无线通信团队成员</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">34</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">9</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/kingback2019/kingback2019.github.io" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:2020465823@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://blog.csdn.net/weixin_38468077" target="_blank" title="CSDN">
                      
                        <i class="fa fa-fw fa-copyright"></i>CSDN</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">kingback</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>总访客
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>总访问量
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

<script src="/live2d_models/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2d_models/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"scale":0.6,"jsonPath":"/live2d_models/assets/assets/hibiki.model.json"},"display":{"position":"right","width":200,"height":500},"mobile":{"show":true,"scale":0.5},"log":false});</script></body>
</html>
